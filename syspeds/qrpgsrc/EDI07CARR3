********************************************************************
      * RETTINGER I DETTE PROGRAM:
PTFnr:*Sek Sig Vers  Beskrivelse...........................
""""""*"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
10038 * 01 CB  PTF10 Extra for SEND EXTENDED PASV
10018 * 02 CB  PTF10 Send direkte fra IFS
********************************************************************
     FEDII      IF   E           K DISK
     FLSOUTPUT  IF   F   80        DISK
S02  F*DI07CAR  O  A F   80        DISK
N02  FEDI07CAR  O  A F  512        DISK
     ILSOUTPUT  AA  01
     I                                  1   80  FILE
     I                                  1    4  F4
      * INPUT PARAMETER
     C     *ENTRY        PLIST
     C                   PARM                    LIB              10
     C                   PARM                    IID              35
     C     IID           CHAIN     EDII                               20
      * USERID AND PASSWORD RECORD
S02  C*                  MOVEL(P)  INTCUS        DATA             80
N02  C                   MOVEL(P)  INTCUS        DATA            512
     C                   CAT       INTCPW:1      DATA
     C                   EXCEPT    AWRK
      * CD
     C                   MOVEL(P)  'cd touser'   DATA
     C                   EXCEPT    AWRK
      * NAMEFMT
     C                   MOVEL(P)  'NAMEFMT 1'   DATA
     C                   EXCEPT    AWRK
      * BIN
     C                   MOVEL(P)  'BIN'         DATA
     C                   EXCEPT    AWRK
      * sendpasv 0
N01  C                   SELECT
N01  C     INSPASV       WHENEQ    'Y'
N01  C     INSPASV       OREQ      'J'
     C                   MOVEL(P)  'sendpasv 0'  DATA
     C                   EXCEPT    AWRK
N01  C     INSPASV       WHENEQ    'X'
N01  C                   MOVEL(P)  'sendepsv 0'  DATA
N01  C                   EXCEPT    AWRK
N01  C                   ENDSL
      * GET
     C                   READ      LSOUTPUT                               51
     C     *IN51         DOWEQ     *OFF
     C     F4            IFNE      '.   '
     C     F4            ANDNE     '..  '
     C     F4            ANDNE     'temp'

     C                   MOVEL(P)  'get'         DATA
     C                   CAT       FILE:1        DATA
     C                   CAT       '/':1         DATA
     C                   CAT       LIB:0         DATA
     C                   CAT       '/':0         DATA
     C                   CAT       'EDIRE':0     DATA
     C                   CAT       '/':0         DATA
     C                   CAT       'A':0         DATA
     C                   CAT       FILE:0        DATA
     C                   EXCEPT    AWRK

     C                   MOVEL(P)  'del'         DATA
     C                   CAT       FILE:1        DATA
     C                   EXCEPT    AWRK

     C                   ENDIF
     C                   READ      LSOUTPUT                               51
     C  N51              ENDDO
      * QUIT COMMAND RECORD
     C                   MOVEL(P)  'quit'        DATA
     C                   EXCEPT    AWRK
     C                   MOVE      '1'           *INLR
     OEDI07CAR  EADD         AWRK
S02  O*                      DATA                80
N02  O                       DATA               512
