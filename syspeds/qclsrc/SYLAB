             PGM
             DCL        VAR(&TY) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ST) TYPE(*CHAR) LEN(20)
             DCL        VAR(&HOLD) TYPE(*CHAR) LEN(4)
             DCL        VAR(&SAVE) TYPE(*CHAR) LEN(4)
             DCL        VAR(&PTY) TYPE(*CHAR) LEN(10)
             DCL        VAR(&STR) TYPE(*CHAR) LEN(5)
             DCL        VAR(&LAS) TYPE(*CHAR) LEN(10)
             DCL        VAR(&UDOKN) TYPE(*DEC) LEN(3 0) VALUE(112)
             DCL        VAR(&KOPI) TYPE(*DEC) LEN(2 0)
             DCL        VAR(&KOPIA) TYPE(*CHAR) LEN(2)
             DCL        VAR(&IN01) TYPE(*CHAR) LEN(1) VALUE('0')
             DCL        VAR(&PRT) TYPE(*CHAR) LEN(10) /* Printernavn */
             DCL        VAR(&AVD) TYPE(*CHAR) LEN(4)
             DCL        VAR(&LABN) TYPE(*DEC) LEN(3 0) VALUE(067)
             DCL        VAR(&LABOUT) TYPE(*CHAR) LEN(10)
             DCL        VAR(&LABTYP) TYPE(*CHAR) LEN(10)
             DCL        VAR(&LABSTR) TYPE(*CHAR) LEN(5)
             DCL        VAR(&FI) TYPE(*CHAR) LEN(2)

             CALL       PGM(SYFA00) PARM(&IN01)
             MONMSG     MSGID(CPF0000)
             IF         COND(&IN01 = '1') THEN(GOTO CMDLBL(SLUTT)) /* +
                          Hvis &IN01 på, avslutter program. */

             RTVDTAARA  DTAARA(*LDA (3 2)) RTNVAR(&FI)
 BYTT:
/* OVERRIDE LASER-PRINTER */
             IF         COND(&PRT  *NE '*BYTT*') THEN(DO)
             CHGVAR     VAR(&IN01) VALUE('S')
             ENDDO
             CALL       PGM(SYGE18) PARM(&UDOKN &PRT &LAS &STR &PTY +
                          &HOLD &SAVE &KOPI &IN01)
             IF         COND(&IN01 = '1') THEN(GOTO CMDLBL(SLUTT)) /* +
                          Hvis &IN01 på, avslutter program. */

             CHGVAR     VAR(&KOPIA) VALUE(&KOPI)
             OVRPRTF    FILE(ARCA000P) DEVTYPE(*AFPDS) PAGESIZE(70 +
                          80) OVRFLW(66) OUTQ(&PRT) COPIES(&KOPIA) +
                          HOLD(&HOLD) SAVE(&SAVE)
/* OVERRIDE LABEL-PRINTER */
/* &IN01 LÅNES SOM INNPARAMETER FOR Å SKJULE BILDE, VIS KUN VED BYTT */
             IF         COND(&LABOUT *NE '*BYTT*') THEN(DO)
             CHGVAR     VAR(&IN01) VALUE('S')
             ENDDO
             CALL       PGM(SYGE18) PARM(&LABN &LABOUT &LAS &LABSTR +
                          &LABTYP &HOLD &SAVE &KOPI &IN01)
             IF         COND(&IN01 = '1') THEN(GOTO CMDLBL(SLUTT)) /* +
                          Hvis &IN01 på, avslutter program. */
             OVRPRTF    FILE(ZBARC) OUTQ(&LABOUT) +
                          FORMTYPE(&LABTYP)
             CHGVAR     VAR(&ST) VALUE('*SY*')
             CALL       PGM(ARCA000R) PARM(&TY &ST &STR &PRT &LABOUT)

             IF         COND(&PRT  *EQ '*BYTT*') THEN(GOTO BYTT)

 SLUTT:      ENDPGM
