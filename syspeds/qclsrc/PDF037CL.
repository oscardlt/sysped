             PGM        PARM(&IE &AVDA &OPDA &PRTFIL &INFOP)
             DCL        VAR(&IE) TYPE(*CHAR) LEN(1)
             DCL        VAR(&AVDA) TYPE(*CHAR) LEN(4)
             DCL        VAR(&OPDA) TYPE(*CHAR) LEN(7)
             DCL        VAR(&PRTFIL) TYPE(*CHAR) LEN(10)
             DCL        VAR(&INFOP) TYPE(*CHAR) LEN(1)
             DCL        VAR(&AVD) TYPE(*CHAR) LEN(4 0)
             DCL        VAR(&WS) TYPE(*CHAR) LEN(10)
             DCL        VAR(&QUSER) TYPE(*CHAR) LEN(10)
             DCL        VAR(&QJOB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&QNBR) TYPE(*CHAR) LEN(6)
             DCL        VAR(&BANE) TYPE(*CHAR) LEN(50)

             RTVJOBA    JOB(&QJOB) USER(&QUSER) NBR(&QNBR)
             CHGVAR     VAR(&AVD) VALUE(&AVDA)
             CHGVAR     VAR(&BANE) VALUE('/pdf/tmp/TVINN' *CAT &AVDA +
                          *CAT &OPDA *CAT '.pdf')

 VIDERE:     OVRPRTF    FILE(&PRTFIL) DEVTYPE(*AFPDS) PAGESIZE(72 +
                          80) OVRFLW(66) OUTQ(OUTMAIL) FORMTYPE(*STD)
             IF         COND(&IE = 'I') THEN(DO)
             CALL       PGM(TVI23R) PARM(&AVD &WS)
             ENDDO
             ELSE       CMD(DO)
             CALL       PGM(TVI123R) PARM(&AVD &WS)
             ENDDO

             ADDLIBLE   LIB(MMAIL)
             MONMSG     MSGID(CPF0000)
             IF         COND(&INFOP = 'N') THEN(DO)
             CVTSPLFPDF SPLF(&PRTFIL) JOB(&QNBR/&QUSER/&QJOB) +
                          TOPDF(&BANE) ORIENTAT(*V)
                          ENDDO
             IF         COND(&INFOP = 'J') THEN(DO)
             CALL       PGM(INF001CL) PARM(&PRTFIL &QNBR &QUSER +
                          &QJOB &BANE)
                          ENDDO
             RMVLIBLE   LIB(MMAIL)
             DLTSPLF    FILE(&PRTFIL) JOB(&QNBR/&QUSER/&QJOB) +
                          SPLNBR(*LAST)
             MONMSG     MSGID(CPF0000)

 SLUTT:      ENDPGM
