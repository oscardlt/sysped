     H DFTACTGRP(*NO) ACTGRP('KLEMENT') OPTION(*SRCSTMT)
     H BNDDIR('YAJL')

      /include yajl_h

     D list_t          ds                  qualified
     D                                     template
     D   uuid                        36a

     D result          ds                  qualified
     D   user                        10
     D   errmsg                     500a   varying
     D   list                              likeds(list_t) dim(999)

     D docNode         s                   like(yajl_val)
     D list            s                   like(yajl_val)
     D node            s                   like(yajl_val)
     D val             s                   like(yajl_val)

     D i               s             10i 0
     D lastElem        s             10i 0
     D dateUSA         s             10a
     D errMsg          s            500a   varying inz('')


     c     *entry        plist
     c                   parm                    UUID_ut          36
     c                   parm                    Filename         45

      /free

         // load the example.json document into a tree.
         docNode = yajl_stmf_load_tree( %trim(Filename) : errMsg );
         if errMsg <> '';
            // handle error
         endif;


         // get the 'success' field into 'result' DS
         // result.success is an RPG named indicator, and will be
         // *ON if success=true, *OFF if success=false

         node = YAJL_object_find(docNode: 'user');
         result.user = YAJL_get_string(node);


         // get the 'errmsg' field into 'result' DS

         node = YAJL_object_find(docNode: 'errmsg');
         result.errmsg = YAJL_get_string(node);

         list = YAJL_object_find(docNode: 'list');

         i = 0;
         dow YAJL_ARRAY_LOOP( list: i: node );

            lastElem = i;

            val = YAJL_object_find(node: 'uuid');
            result.list(i).uuid = yajl_get_string(val);
            if result.list(i).uuid <> *blanks;
              UUID_ut = yajl_get_string(val);
              leave;
            endif;
         enddo;

         yajl_tree_free(docNode);

         *inlr = *on;
