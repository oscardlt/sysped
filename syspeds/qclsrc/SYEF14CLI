/*  BYTTET GETPR2 MED GETPRN FOR DRAWER OG ANTAL.L KOPIER */
             PGM        PARM(&AWB &IN08 &KOWFET)
             DCL        VAR(&DRAWER) TYPE(*CHAR) LEN(7)
             DCL        VAR(&DRAWUT) TYPE(*CHAR) LEN(11)
             DCL        VAR(&COPIES)  TYPE(*CHAR) LEN(6)
             DCL        VAR(&PNAVN)  TYPE(*CHAR) LEN(10)
             DCL        VAR(&FORM)  TYPE(*CHAR) LEN(10)
             DCL        VAR(&LOGO)  TYPE(*CHAR) LEN(9)
             DCL        VAR(&LASER) TYPE(*CHAR) LEN(1)
             DCL        VAR(&FLYF) TYPE(*DEC) LEN(3 0) VALUE(017)
             DCL        VAR(&LPI2) TYPE(*DEC) LEN(2 0)
             DCL        VAR(&PRANT) TYPE(*CHAR) LEN(2) /* Antall +
                          utskrifter. */
             DCL        VAR(&DOK) TYPE(*DEC) LEN(3 0) VALUE(002)
             DCL        VAR(&OUTQ) TYPE(*CHAR) LEN(10)
             DCL        VAR(&FORMT) TYPE(*CHAR) LEN(10)
             DCL        VAR(&AVD) TYPE(*CHAR) LEN(4)
             DCL        VAR(&OPD) TYPE(*CHAR) LEN(7)
             DCL        VAR(&LOP) TYPE(*CHAR) LEN(3)
             DCL        VAR(&AWB) TYPE(*LGL) LEN(1) /* MAWB-liste +
                          type. */
             DCL        VAR(&IN08) TYPE(*LGL) LEN(1) /* Antall +
                          utskrifter. */
             DCL        VAR(&KOWFET) TYPE(*CHAR) LEN(1)
             DCL        VAR(&ATYPE) TYPE(*CHAR) LEN(2) VALUE('aw')
             DCL        VAR(&AUSER) TYPE(*CHAR) LEN(10)
             DCL        VAR(&FINS) TYPE(*CHAR) LEN(1) VALUE('N')
 RTVTIME:    RTVJOBA    USER(&AUSER)
    /* */
    /* */
/*              */
/* MERKELAPP 1  */
/*              */
             RTVDTAARA  DTAARA(*LDA (15 4)) RTNVAR(&AVD)
/*V10        RTVDTAARA  DTAARA(*LDA (25 7)) RTNVAR(&OPD)   */
             CALL       PGM(GETPRT) PARM(&AVD &DOK &OUTQ &FORMT)
    /* */
    /* TESTER LASER OG LPI                   */
    /* */
             CALL       PGM(GETPRN) PARM(&AVD &FLYF &PNAVN &FORM +
                        &LASER &LPI2 &DRAWER &COPIES &LOGO &DRAWUT)
    /* */
             OVRPRTF    FILE(MERKL1) OUTQ(&OUTQ) PAGESIZE(18 50) +
                          CPI(10) OVRFLW(18) FORMTYPE(&FORMT)
/*              */
/* MERKELAPP 2  */
/*              */
             CHGVAR     VAR(&DOK) VALUE(3)
             CALL       PGM(GETPRT) PARM(&AVD &DOK &OUTQ &FORMT)
             OVRPRTF    FILE(MERKL2) OUTQ(&OUTQ) PAGESIZE(24 50) +
                          CPI(10) OVRFLW(24) FORMTYPE(&FORMT)
/*              */
/* FRAKTBREV    */
/*              */
             CHGVAR     VAR(&DOK) VALUE(17)
             CALL       PGM(GETPRT) PARM(&AVD &DOK &OUTQ &FORMT)
             IF         COND(&LASER *NE 'P') THEN(DO)
             IF         COND(&KOWFET = 'J') THEN(DO)
             OVRPRTF    FILE(SYEF14P) DEVTYPE(*IPDS) PAGESIZE(96 80) +
                          LPI(8) CPI(10) OVRFLW(96) DRAWER(&DRAWER) +
                          OUTBIN(&DRAWUT) PRTQLTY(*DRAFT) +
                          FRONTOVL(&LOGO) OUTQ(&OUTQ) +
                          FORMTYPE(&FORMT) COPIES(&COPIES)
             ENDDO
             ELSE       CMD(DO)
             OVRPRTF    FILE(SYEF14P) DEVTYPE(*SCS) PAGESIZE(96 80) +
                          LPI(8) CPI(10) OVRFLW(96) DRAWER(&DRAWER) +
                          OUTBIN(&DRAWUT) PRTQLTY(*DRAFT) +
                          FRONTOVL(&LOGO) OUTQ(&OUTQ) +
                          FORMTYPE(&FORMT) COPIES(&COPIES)
             ENDDO
             ENDDO
             IF         COND(&LASER *EQ 'P') THEN(DO)
             OVRPRTF    FILE(SYEF14P) DEVTYPE(*AFPDS) PAGESIZE(96 +
                          80) LPI(8) CPI(10) OVRFLW(96) +
                          DRAWER(&DRAWER) OUTBIN(&DRAWUT) +
                          PRTQLTY(*DRAFT) FRONTOVL(&LOGO) +
                          OUTQ(&OUTQ) COPIES(&COPIES)
             ENDDO
 /*N01 - EGEN AFP-STYRING */
             IF         COND(&LASER *EQ 'F') THEN(DO)
             OVRPRTF    FILE(SYEF14P) DEVTYPE(*AFPDS) PAGESIZE(96 +
                          80) LPI(8) CPI(10) FRONTMGN(0 0.10) +
                          OVRFLW(96) DRAWER(&DRAWER) +
                          OUTBIN(&DRAWUT) PRTQLTY(*DRAFT) +
                          FRONTOVL(&LOGO) OUTQ(&OUTQ) +
                          FORMTYPE(&FORMT) COPIES(&COPIES)
             ENDDO
             OVRDBF     FILE(DOKOTH) FRCRATIO(1)
             CALL       PGM(SYEF14) PARM(&IN08 &PRANT &AVD &OPD &LOP &LASER)
             SNDPGMMSG  MSG(' ' *BCAT &PRANT *BCAT +
                          'flyfraktbrev-eksport er klare til utskrift +
                          på skriver ' *BCAT &OUTQ *BCAT '.') +
                          MSGTYPE(*INFO)
    /* */
             SBMJOB     CMD(CALL PGM(ARC002CL) PARM(&ATYPE &AUSER +
                          &FINS)) JOB(ARKIV) JOBD(*USRPRF) +
                          JOBQ(SYJOBQPRT)
    /* */
             ENDPGM
