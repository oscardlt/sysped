********************************************************************
      * RETTINGER I DETTE PROGRAM:
PTFnr:*Sek Sig Vers  Beskrivelse...........................
""""""*"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
11006 * 01 YBC PTF11 NYE FILER ZOKUDGS OG ZOKUFE
********************************************************************
      ***********************************************************
      *** PROGRAMMET GENERERER FRAKTBREV OG VARELINJER        ***
      *** PÅ BASIS AV POSTER I Z-FILER.                       ***
      ***                                                     ***
      *** PROGRAMMET BLIR KALT FRA SYop21R                    ***
      ***                                                     ***
      ***********************************************************
     H DATEDIT(*YMD)
     FZOKUFL1   IF   E           K DISK    RENAME(DOKUFR:ZOKUFR)
     FZOKUFV1   IF   E           K DISK    RENAME(DOKUFVR:ZOKUFVR)
N01  FZOKUDGS1  IF   E           K DISK    RENAME(DOKUDGSR:ZOKUGDSR)
N01  FZOKUFEL1  IF   E           K DISK    RENAME(DOKUFER:ZOKUFER)
     FZOKUFM1   IF   E           K DISK    RENAME(DOKUFMR:ZOKUFMR)
     FZOK29L1   IF   E           K DISK    RENAME(DOK29R:ZOK29R)
     FZOK36L1   IF   E           K DISK    RENAME(DOK36R:ZOK36R)
     FDOKUF     O    E           K DISK
     FDOKUFV    O    E             DISK
N01  FDOKUDGS   O    E             DISK
N01  FDOKUFE    O    E             DISK
     FDOKUFM    O    E             DISK
     FDOK29     O    E           K DISK
     FDOK36     O    E           K DISK
     D                UDS
     D  USG                   19     21
      *//////////////
      *  Main logic /
      *//////////////
     C                   EXSR      SRA
     C                   EXSR      SRB
     C                   EXSR      SRC
      *////////////////////////////////////////////////////////////
      *  Hovedrutine                                              /
      *////////////////////////////////////////////////////////////
     C     SRB           BEGSR
      *
      * 3 løkker.   1. leser ZOKUF, genererer DOKUF
      *             2. Leser ZOKUFV, genererer DOKUFV
      *             3. Leser ZOKUFM, genererer DOKUFM
      *             4. Leser ZOK29, genererer DOK29
      *             5. Leser ZOK36, genererer DOK36
      *             6. Leser ZOKUDGS, genererer DOKUDGS
      *             7. Leser ZOKUFE, genererer DOKUFE
      * Skal alltid genereres i forholdet en til en.
      *
     C     PPKEY         SETLL     ZOKUFL1
     C     PPKEY         READE     ZOKUFL1                                90
     C     *IN90         DOWEQ     *OFF
     C                   EXSR      GENUF
     C     PPKEY         READE     ZOKUFL1                                90
     C                   ENDDO                                                  <*IN90
      *
     C     PPKEY         SETLL     ZOKUFV1
     C     PPKEY         READE     ZOKUFV1                                90
     C     *IN90         DOWEQ     *OFF
     C                   EXSR      GENUFV
     C     PPKEY         READE     ZOKUFV1                                90
     C                   ENDDO                                                  <*IN90
N01   *
N01  C     PPKEY         SETLL     ZOKUDGS1
N01  C     PPKEY         READE     ZOKUDGS1                               90
N01  C     *IN90         DOWEQ     *OFF
N01  C                   EXSR      GENUDGS
N01  C     PPKEY         READE     ZOKUDGS1                               90
N01  C                   ENDDO                                                  <*IN90
N01   *
N01  C     PPKEY         SETLL     ZOKUFEL1
N01  C     PPKEY         READE     ZOKUFEL1                               90
N01  C     *IN90         DOWEQ     *OFF
N01  C                   EXSR      GENUFE
N01  C     PPKEY         READE     ZOKUFEL1                               90
N01  C                   ENDDO                                                  <*IN90
      *
     C     PPKEY         SETLL     ZOKUFM1
     C     PPKEY         READE     ZOKUFM1                                90
     C     *IN90         DOWEQ     *OFF
     C                   EXSR      GENUFM
     C     PPKEY         READE     ZOKUFM1                                90
     C                   ENDDO                                                  <*IN90
      *
     C     PPKEY         SETLL     ZOK29L1
     C     PPKEY         READE     ZOK29L1                                90
     C     *IN90         DOWEQ     *OFF
     C                   EXSR      GENU29
     C     PPKEY         READE     ZOK29L1                                90
     C                   ENDDO                                                  <*IN90
      *
     C     PPKEY         SETLL     ZOK36L1
     C     PPKEY         READE     ZOK36L1                                90
     C     *IN90         DOWEQ     *OFF
     C                   EXSR      GENU36
     C     PPKEY         READE     ZOK36L1                                90
     C                   ENDDO                                                  <*IN90
      *
     C     SRB99         TAG
      *
     C                   ENDSR
      *////////////////////////////////////////////////////////////
      *  Danner opplysninger i DOKUF og skriver posten            /
      *////////////////////////////////////////////////////////////
     C     GENUF         BEGSR
      *
     C                   MOVE      'F'           DFRI
     C                   Z-ADD     AVD           DFAVD
     C                   Z-ADD     OPD           DFOPD
     C                   MOVE      USG           DFSG
     C                   WRITE     DOKUFR
      *
     C                   ENDSR
      *////////////////////////////////////////////////////////////
      *  Danner opplysninger i DOKUFV og skriver posten           /
      *////////////////////////////////////////////////////////////
     C     GENUFV        BEGSR
     C                   Z-ADD     AVD           FVAVD
     C                   Z-ADD     OPD           FVOPD
     C                   MOVE      'F'           FVRI
      *
     C                   WRITE     DOKUFVR
      *
     C                   ENDSR
N01   *////////////////////////////////////////////////////////////
N01   *  Danner opplysninger i DOKUDGS og skriver posten          /
N01   *////////////////////////////////////////////////////////////
N01  C     GENUDGS       BEGSR
N01  C                   Z-ADD     AVD           DGSAVD
N01  C                   Z-ADD     OPD           DGSOPD
N01   *
N01  C                   WRITE     DOKUDGSR
N01   *
N01  C                   ENDSR
N01   *////////////////////////////////////////////////////////////
N01   *  Danner opplysninger i DOKUFE og skriver posten           /
N01   *////////////////////////////////////////////////////////////
N01  C     GENUFE        BEGSR
N01  C                   Z-ADD     AVD           FE_DFAVD
N01  C                   Z-ADD     OPD           FE_DFOPD
N01   *
N01  C                   WRITE     DOKUFER
N01   *
N01  C                   ENDSR
      *////////////////////////////////////////////////////////////
      *  Danner opplysninger i DOKUFM og skriver posten           /
      *////////////////////////////////////////////////////////////
     C     GENUFM        BEGSR
      *
     C                   Z-ADD     AVD           FMAVD
     C                   Z-ADD     OPD           FMOPD
     C                   MOVE      'F'           FMRI
     C                   WRITE     DOKUFMR
      *
     C                   ENDSR
      *////////////////////////////////////////////////////////////
      *  Danner opplysninger i DOK29 og skriver posten           /
      *////////////////////////////////////////////////////////////
     C     GENU29        BEGSR
     C                   Z-ADD     AVD           D29AVD
     C                   Z-ADD     OPD           D29OPD
      *
     C                   WRITE     DOK29R
      *
     C                   ENDSR
      *////////////////////////////////////////////////////////////
      *  Danner opplysninger i DOK36 og skriver posten           /
      *////////////////////////////////////////////////////////////
     C     GENU36        BEGSR
     C                   Z-ADD     AVD           D36AVD
     C                   Z-ADD     OPD           D36OPD
      *
     C                   WRITE     DOK36R
      *
     C                   ENDSR
      *////////////////////////////////////////////////////////////
      *  Init                                                     /
      *////////////////////////////////////////////////////////////
     C     SRA           BEGSR
      *__________________
      * Define Workfields
      *""""""""""""""""""
      * Parameterliste
     C     *ENTRY        PLIST
     C                   PARM                    UNIK              9 0
     C                   PARM                    REF              17
     C                   PARM                    AVD               4 0
     C                   PARM                    OPD               7 0
      * Keylist
     C     PPKEY         KLIST
     C                   KFLD                    UNIK
     C                   KFLD                    REF
      *
      *
     C                   ENDSR
      *////////////////////////////////////////////////////////////
      *  Avslutt                                                  /
      *////////////////////////////////////////////////////////////
     C     SRC           BEGSR
     C                   MOVE      *ON           *INLR
      *
     C                   ENDSR
      *
      *
