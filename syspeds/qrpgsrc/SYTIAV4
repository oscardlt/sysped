      * LES GAMMEL SADSD,  SJEKK MOT NY FIL....
      * HVIS ENN GYLDIG, OPPDATER (BEHOLD AKTIV/INAKTIV-KODE)
      * HVIS IKKE, SLETT
     H DATEDIT(*DMY)
     FSADSD     UP   E             DISK
     FSADSDNY   UF   E           K DISK
     F                                     RENAME(SADSDR:SADSDRX)
     ISADSDRX
     I              SDTNRF                      SXTNRF
     I              SDKDA                      SXKDA
     I              SDKDS                      SXKDS
     I              SDDTF                       SXDTF
     I              SDDTT                       SXDTT
     I              SDAKTK                      SXAKTK
     I              SDBLS                      SXBLS
     I              SDHKOD                      SXHKOD
     I              SDVF                        SXVF
     I              SDTRM                       SXTRM
      *
     C     XINIT         IFEQ      ' '
     C     KEY           KLIST
     C                   KFLD                    SDTNRF
     C                   KFLD                    SDKDA
     C                   KFLD                    SDKDS
     C                   MOVE      'J'           XINIT             1
     C                   CALL      'SYGE15C'
     C                   PARM                    WDT               8
     C                   PARM                    WTM               6
     C                   MOVE      WDT           XDT               8 0
     C                   MOVE      'SUB'         UFUNK             3
     C                   MOVE      WDT           UDT1              8 0
     C                   Z-ADD     1             UDAG              5 0
     C                   END
      *
     C     KEY           CHAIN     SADSDNY                            33
     C  N33              SELECT
     C     SXBLS        WHENEQ    SDBLS
     C     SXDTF         IFLT      SDDTF
     C                   MOVE      SXDTF         SDDTF
     C                   END
     C     SXDTT         IFGT      SDDTT
     C     SXDTT         ORNE      0
     C     SDDTT         ANDEQ     99999999
     C     SXDTT         ORNE      0
     C     SDDTT         ANDEQ     99991231
     C                   MOVE      SXDTT         SDDTT
     C                   END
     C                   DELETE    SADSDRX
     C     SXDTF         WHENGT    SDDTF
     C     SXDTF         IFLT      SDDTT
     C                   MOVE      SXDTF         SDDTT
     C                   END
     C                   UPDATE    SADSDRX
     C                   OTHER
     C     SXDTT         IFLT      SDDTT
     C                   MOVE      SXDTT         SDDTF
     C                   ELSE
     C                   DELETE    SADSDR
     C                   GOTO      SLUTT
     C                   END
     C                   UPDATE    SADSDRX
     C                   ENDSL
     C   33              IF        ((SDKDA <> 'RT') AND
     C                              (XDT < SDDTT))
     C                   CALL      'SYGE20'
     C                   PARM                    UFUNK
     C                   PARM                    UDT1              8 0
     C                   PARM                    UDT2              8 0
     C                   PARM                    UDAG              5 0
     C                   MOVE      UDT2          SDDTT
     C                   END
      *
     C                   UPDATE    SADSDR
     C     SLUTT         TAG
      *
