     H DFTACTGRP(*NO)
     FSADH      IF   E           K DISK
     FSAEH      IF   E           K DISK

     D XAVD            S              4  0
     D XOPD            S              7  0
     D XDTP            S              8  0
      *
      *  Prototype for syreo12r0
     d syreo12r0       pr
     d uavd_                               like(uavd)
     d uopd_                               like(uopd)
     d udtp_                               like(udtp)
     d uok_                                like(uok)
      *  *ENTRY Interface for Main Procedure
     d syreo12r0       pi
     d uavd                           4
     d uopd                           7
     d udtp                           8
     d uok                            1
      /free

         exsr init;

         // Sjekk om fortolling skal bevares. I så fall sletter ikke arkiv og edi.
         uok = 'J';
         chain (xavd: xopd) sadh;
         if %found;
           if %subst(sirg:10:2) = *blanks or                            //Firma 5 år
              %subst(sirg:10:2) <> *blanks and sidt < xdtp;             //Personkunde 10 år
           else;
             uok = 'N';
           endif;
         endif;
         if uok = 'J';
           chain (xavd: xopd) saeh;
           if %found;
             if %subst(serg:10:2) = *blanks or                          //Firma 5 år
                %subst(serg:10:2) <> *blanks and sedt < xdtp;           //Personkunde 10 år
             else;
               uok = 'N';
             endif;
           endif;
         endif;

       *inlr = *on;
       return;

      //***********************************************
       begsr init;
      //***********************************************
       xavd = %float(uavd);
       xopd = %float(uopd);
       xdtp = %float(udtp);

       endsr;

      /end-free
