             PGM
             /*_____________________*/
             /* Deklarere Variabler */
             /*"""""""""""""""""""""*/
             DCL        VAR(&MBR) TYPE(*CHAR) LEN(10)
             DCL        VAR(&OK) TYPE(*LGL) LEN(1)
             DCL        VAR(&SSN) TYPE(*DEC) LEN(9 0)
             DCL        VAR(&NETW) TYPE(*CHAR) LEN(1)
             DCL        VAR(&IID) TYPE(*CHAR) LEN(35)
             DCL        VAR(&U0054) TYPE(*CHAR) LEN(3)
             DCL        VAR(&U0065) TYPE(*CHAR) LEN(6)
             /*________________________________*/
             /* Merk meldinger som skal sendes */
             /*""""""""""""""""""""""""""""""""*/
             CALL       PGM(TVI14R) PARM(&OK)
             IF         COND(&OK *EQ '0') THEN(GOTO CMDLBL(END))
             /*_________________________________________________*/
             /* Finnes det noe å sende ? + hente komponentnavn. */
             /*"""""""""""""""""""""""""""""""""""""""""""""""""*/
 START:      CALL       PGM(TVI03R) PARM(&OK &MBR &SSN &NETW)
             IF         COND(&OK *EQ '0') THEN(GOTO CMDLBL(OK))
             GOTO       CMDLBL(END)
             /*____________________*/
             /* Generere komponent */
             /*""""""""""""""""""""*/
 OK:         CLRPFM     FILE(WFILEIMP) MBR(TVINS)
             OVRDBF     FILE(WFILEIMP) TOFILE(WFILEIMP) MBR(TVINS)
             /*__________________*/
             /* Lage EDIfact-fil */
             /*""""""""""""""""""*/
             CALL       PGM(TVI04R) PARM(&SSN &NETW)
             GOTO       CMDLBL(START)

 END:        ENDPGM
