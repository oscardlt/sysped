/* DE NUMMERISKE VARIABLER SENDES NÅ SOM ALFA  P00164  */
/* 2 NYE UTVALGSFELT FRA/TIL LØPENR (3.SISTE SIFFER),              */
             PGM
     /*___________________*/
     /* Beskriv variabler */
     /*"""""""""""""""""""*/
             DCL        VAR(&PARM) TYPE(*CHAR) LEN(162)
             DCL        VAR(&EPOST) TYPE(*CHAR) LEN(70)
             DCL        VAR(&PS) TYPE(*CHAR) LEN(1)
             DCL        VAR(&END) TYPE(*CHAR) LEN(1) VALUE('E')
             DCL        VAR(&USER) TYPE(*CHAR) LEN(10)
             DCL        VAR(&ZAVDF) TYPE(*DEC) LEN(4 0)
             DCL        VAR(&ZAVDT) TYPE(*DEC) LEN(4 0)
             DCL        VAR(&AAVDF) TYPE(*CHAR) LEN(4)
             DCL        VAR(&AAVDT) TYPE(*CHAR) LEN(4)
             DCL        VAR(&ZGNF) TYPE(*CHAR) LEN(15)
             DCL        VAR(&ZGNT) TYPE(*CHAR) LEN(15)
             DCL        VAR(&ZDTF) TYPE(*DEC) LEN(6 0)
             DCL        VAR(&ADTF) TYPE(*CHAR) LEN(6)
             DCL        VAR(&ZDTT) TYPE(*DEC) LEN(6 0)
             DCL        VAR(&ADTT) TYPE(*CHAR) LEN(6)
             DCL        VAR(&ZOT01) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT02) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT03) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT04) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT05) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT06) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT07) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT08) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT09) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZOT10) TYPE(*CHAR) LEN(2)
             DCL        VAR(&ZUNG) TYPE(*CHAR) LEN(1)
             DCL        VAR(&ZBRUDD) TYPE(*CHAR) LEN(1)
             DCL        VAR(&ZDEV) TYPE(*CHAR) LEN(10)
             DCL        VAR(&ZA4) TYPE(*CHAR) LEN(1)
             DCL        VAR(&IN03) TYPE(*LGL) LEN(1)
             DCL        VAR(&ZLNRF) TYPE(*CHAR) LEN(1)
             DCL        VAR(&ZLNRT) TYPE(*CHAR) LEN(1)
             DCL        VAR(&ZST) TYPE(*CHAR) LEN(5)
     /*_____________________________*/
     /* Hente bestillingsparametrer */
     /*"""""""""""""""""""""""""""""*/
             CALL       PGM(SYIM01R) PARM(&ZAVDF &ZAVDT &ZGNF &ZGNT +
                          &ZDTF &ZDTT &ZOT01 &ZOT02 &ZOT03 &ZOT04 +
                          &ZOT05 &ZOT06 &ZOT07 &ZOT08 &ZOT09 &ZOT10 +
                          &ZST &ZUNG &ZDEV &ZA4 &IN03 &ZBRUDD +
                          &ZLNRF &ZLNRT &EPOST &PS)
     /*_____________________*/
     /* Annuller bestilling */
     /*"""""""""""""""""""""*/
             IF         COND(&IN03 *EQ '1') THEN(RETURN)
     /*__________________*/
     /* Avregning i JOBQ */
     /*""""""""""""""""""*/
             CHGVAR     VAR(&AAVDF) VALUE(&ZAVDF)
             CHGVAR     VAR(&AAVDT) VALUE(&ZAVDT)
             CHGVAR     VAR(&ADTF) VALUE(&ZDTF)
             CHGVAR     VAR(&ADTT) VALUE(&ZDTT)
             CHGVAR     VAR(&PARM) VALUE(&AAVDF *CAT &AAVDT *CAT +
                          &ZGNF *CAT &ZGNT *CAT &ADTF *CAT &ADTT +
                          *CAT &ZOT01 *CAT &ZOT02 *CAT &ZOT03 *CAT +
                          &ZOT04 *CAT &ZOT05 *CAT &ZOT06 *CAT +
                          &ZOT07 *CAT &ZOT08 *CAT &ZOT09 *CAT +
                          &ZOT10 *CAT &ZST *CAT &ZUNG *CAT &ZDEV +
                          *CAT &ZA4 *CAT &ZBRUDD *CAT &ZLNRF *CAT +
                          &ZLNRT *CAT &EPOST *CAT &PS *CAT &END)
/*           SBMJOB     CMD(CALL PGM(SYIM02C) PARM(&AAVDF &AAVDT +
                          &ZGNF &ZGNT &ADTF &ADTT +
                          &ZOT01 &ZOT02 &ZOT03 &ZOT04 &ZOT05 +
                          &ZOT06 &ZOT07 &ZOT08 &ZOT09 &ZOT10 +
                          &ZST &ZUNG &ZDEV &ZA4 &ZBRUDD +
                          &ZLNRF &ZLNRT &EPOST)) +
                          JOB(TOLLAGER) JOBQ(SYJOBQAV)     */
/*           SBMJOB     CMD(CALL PGM(SYIM02C) PARM(&PARM)) +
                          JOB(TOLLAGER) JOBQ(SYJOBQAV)    */
/*                          CALL PGM(SYIM02C) PARM(&PARM) */
             CALL PGM(SYIM02C) PARM(&PARM)
             ENDPGM
