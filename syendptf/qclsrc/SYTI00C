             PGM        PARM(&PGM)
             DCL        VAR(&PGM) TYPE(*CHAR) LEN(10)
             DCL        VAR(&SN) TYPE(*CHAR) LEN(9)
             DCL        VAR(&PATH) TYPE(*CHAR) LEN(256)
             DCL        VAR(&LIB) TYPE(*CHAR) LEN(10)

/* Slett XML-filer i QTEMP */
             DLTF       FILE(QTEMP/XMLRCVF)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/XMLRCAF)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/XMLRCLF)
             MONMSG     MSGID(CPF0000)

/* Lag XML-filer i QTEMP */
             RTVDTAARA  DTAARA(EDIDTA (171 10)) RTNVAR(&LIB)
             CRTDUPOBJ  OBJ(XMLRCVF) FROMLIB(&LIB) OBJTYPE(*FILE) +
                          TOLIB(QTEMP)
             CRTDUPOBJ  OBJ(XMLRCAF) FROMLIB(&LIB) OBJTYPE(*FILE) +
                          TOLIB(QTEMP)
             CRTDUPOBJ  OBJ(XMLRCLF) FROMLIB(&LIB) OBJTYPE(*FILE) +
                          TOLIB(QTEMP)

/* Sett ingen tvunge oppdatering på XML-filer i QTEMP */
             CHGPF      FILE(QTEMP/XMLRCVF) FRCRATIO(*NONE)
             CHGPF      FILE(QTEMP/XMLRCAF) FRCRATIO(*NONE)
             CHGPF      FILE(QTEMP/XMLRCLF) FRCRATIO(*NONE)

/* Overstyr xml-filer til QTEMP */
             OVRDBF     FILE(XMLRCVF) TOFILE(QTEMP/XMLRCVF)
             OVRDBF     FILE(XMLRCAF) TOFILE(QTEMP/XMLRCAF)
             OVRDBF     FILE(XMLRCLF) TOFILE(QTEMP/XMLRCLF)

/* Legg post i EDISX og skap sendingsnr */
             CALL       PGM(SYTI00R) PARM(&SN &PATH &PGM)

/* Legg ut XML-tager i databasefil med Nøkler som representerer nivå */
             ADDLIBLE   LIB(LIBHTTP2) POSITION(*LAST)
             MONMSG     MSGID(CPF0000)
             CALL       PGM(XMLRCVR) PARM(&PATH &SN)

/* Konverter nedøastet XML-fil */
             CALL       PGM(&PGM) PARM(&SN)

/* Slett post i xml-filer */
/*           CALL       PGM(SYTI10R) PARM(&SN)   */

/* Slett overstyring */
             DLTOVR     FILE(XMLRCVF)
             DLTOVR     FILE(XMLRCAF)
             DLTOVR     FILE(XMLRCLF)

/* Slett XML-filer i QTEMP */
             DLTF       FILE(QTEMP/XMLRCVF)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/XMLRCAF)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/XMLRCLF)
             MONMSG     MSGID(CPF0000)

             ENDPGM
