********************************************************************
""""""*"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
      * program som slår sammen PDF'er
      *
********************************************************************
      *
     D                 DS
     D  data                   1   6400
     D  dta                    1   6400
     D                                     DIM(80)
     D KOMMSTR         C                   CONST('CONCATPDF -
     D                                     INPDF(')
     D KOMMEND         C                   CONST(')')
     D PAR1            C                   CONST('INPDF(')
     D PAR2            C                   CONST('OUTPDF(')
     D PAR3            C                   CONST('JDEBUG(')
      * Definere  hex appostrof
     D Ap              c                   x'7D'
     C*
     C     *ENTRY        PLIST
     C                   PARM                    uunika           11
     C                   PARM                    DOKMERG          40
     c                   parm                    dtainn         6400
     C                   Z-ADD     32000         UCMDL            15 5

     C                   move      '*NO '        nei               4
     c                   movel     dtainn        data
     C                   Eval      utstreng='CONCATPDF INPDF('
     C                   EXSR      mergesr
      *
      * HVIS FLERE DOKUMENT SLÅ SAMMEN
      *
      *
     C                   cat       ') OUTPDF(':0 utstreng      60000
     c                   cat       Ap:0          utstreng
     c                   cat       DOKMERG:0     utstreng
     c                   cat       Ap:0          utstreng
     C                   cat       ') JDEBUG(':0 utstreng
     c                   cat       Ap:0          utstreng
     C                   cat       NEI:0         utstreng
     c                   cat       Ap:0          utstreng
     C                   cat       ')':0         utstreng
     c                   movel     utstreng      UCMD
     C                   CALL      'QCMDEXC'                            33
     C                   PARM                    UCMD          32000
     C                   PARM                    UCMDL
      *
     c     slutt         tag
     c                   seton                                        lr
     c                   return
      *
     C***********************************************************************
     C     mergesr       BEGSR
     C***********************************************************************
      *
      * skriver linker
      *
     c     1             do        79            nr                3 0
      *
     C     '.pdf'        SCAN      dta(nr)                                44
     C     *IN44         IFEQ      '1'
     c     dta(nr)       andne     *blanks
      *
     c     nr            ifgt      1
     c                   cat       Ap:1          utstreng
     c                   else
     c                   cat       Ap:0          utstreng
     c                   end
     c                   cat       dta(nr):0     utstreng
     c                   cat       Ap:0          utstreng
     c                   cat       ' ':0         utstreng
     c                   end
     c                   enddo
     c                   endsr
      *
