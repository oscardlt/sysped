             PGM        PARM(&SN)
             DCL        VAR(&SN) TYPE(*CHAR) LEN(9)
             DCL        VAR(&FILENAME) TYPE(*CHAR) LEN(10) +
                          VALUE('Q         ')
             DCL        VAR(&MBRTXT) TYPE(*CHAR) LEN(50) VALUE('XML +
                          EXPORT KGH')
             DCL        VAR(&FROM) TYPE(*CHAR) LEN(35) VALUE(KOMPSYSP)
             DCL        VAR(&TO) TYPE(*CHAR) LEN(35) VALUE(KOMPKGH)
             DCL        VAR(&FMS1) TYPE(*CHAR) LEN(80)
             DCL        VAR(&FMS2) TYPE(*CHAR) LEN(80)
             DCL        VAR(&TY) TYPE(*CHAR) LEN(2)
             DCL        VAR(&SND) TYPE(*CHAR) LEN(1)
             DCL        VAR(&AVSMOT) TYPE(*CHAR) LEN(8)
             DCL        VAR(&NOE) TYPE(*CHAR) LEN(1) VALUE('N')

  /* TEMPFIL FOR Å LEGGE UT DATA I.. */
             DLTF       FILE(QTEMP/Q)
             MONMSG     MSGID(CPF0000)
             CRTPF      FILE(QTEMP/Q) RCDLEN(1024)

  /* FRA 19.09.2011 - KOMP DISTRIB. BÅDE I NO/SE (I TILLEGG TIL KOMP SERVICES)*/
  /* INFO OM AVSENDER / MOTTAKER KOMMER PÅ LINJENIVÅ - ALT ANNET MÅ FILTRERES */
  /*<WERKS> = AVSENDER: 3100 = KOMP SERVICES AS, 3300 = KOMP DISTR. AS        */
  /*<VKORG> = MOTTAKER: 2000 = KOMP SERVICES AB, 2300 = KOMP DISTR. AB        */
  /*DVS 4 KOMBINASJONER 3100->2000, 3100->2300, 3300->2000, 3300->2300,       */

             CHGVAR     VAR(&AVSMOT) VALUE('31002000')

  /* NO NORSKE VARER /IKKE TOLLAGER - HVIS DET FINNES */
             CLRPFM     FILE(QTEMP/Q)
             CHGVAR     VAR(&TY) VALUE('NO')
             CALL       PGM(SYXML17X) PARM(&SN &AVSMOT &TY &SND)
             IF         COND(&SND = 'J') THEN(CALL PGM(EGF03C1K) +
                          PARM(&FILENAME &MBRTXT &FROM &TO &FMS1 +
                          &FMS2))
             IF         COND(&SND = 'J') THEN(CHGVAR VAR(&NOE) VALUE('J'))

             ENDPGM
