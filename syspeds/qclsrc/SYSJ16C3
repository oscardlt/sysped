/*  BYTTET GETPR2 MED GETPRN FOR DRAWER OG ANTAL.L KOPIER */
             PGM        PARM(&AVD &OPD &NR &PRT31 &PT31)
             DCL        VAR(&DRAWER) TYPE(*CHAR) LEN(7)
             DCL        VAR(&DRAWUT) TYPE(*CHAR) LEN(11)
             DCL        VAR(&COPIES)  TYPE(*CHAR) LEN(6)
             DCL        VAR(&PNAVN)  TYPE(*CHAR) LEN(10)
             DCL        VAR(&FORM)  TYPE(*CHAR) LEN(10)
             DCL        VAR(&LOGO)  TYPE(*CHAR) LEN(9)
             DCL        VAR(&AVD) TYPE(*CHAR) LEN(4)
             DCL        VAR(&AVDA) TYPE(*CHAR) LEN(4) /* Avdeling. */
             DCL        VAR(&ALAS) TYPE(*DEC) LEN(3 0) VALUE(031)
             DCL        VAR(&LASER) TYPE(*CHAR) LEN(1)
             DCL        VAR(&LPP) TYPE(*DEC) LEN(3 0) VALUE(72)
             DCL        VAR(&LPI2) TYPE(*DEC) LEN(2 0)
             DCL        VAR(&OPD) TYPE(*CHAR) LEN(7)
             DCL        VAR(&NR) TYPE(*CHAR) LEN(1)
             DCL        VAR(&PRT31) TYPE(*CHAR) LEN(10)
             DCL        VAR(&PT31) TYPE(*CHAR) LEN(10)
       /* */
    /* */
    /* SJEKKER OM LASER */
    /* */
             RTVDTAARA  DTAARA(*LDA (15 4)) RTNVAR(&AVDA)
             CALL       PGM(GETPRN) PARM(&AVDA &ALAS &PNAVN &FORM +
                          &LASER &LPI2 &DRAWER &COPIES &LOGO &DRAWUT)
             IF         COND(&LASER = 'J') THEN(DO)
             CHGVAR     VAR(&LPP) VALUE('066')
             ENDDO
    /*                                                           */
    /*        IKKE PDF/AFP                                       */
    /*                                                           */
             IF         COND(&LASER *NE 'P') THEN(DO)
             IF         COND(&LASER *NE 'F') THEN(DO)
             OVRMSGF    MSGF(QUSERMSG) TOMSGF(SYMSGF)
             OVRPRTF    FILE(SYSJ16P) PAGESIZE(&LPP 80) CPI(10) +
                          OVRFLW(&LPP) DRAWER(&DRAWER) +
                          OUTBIN(&DRAWUT) FRONTOVL(&LOGO) +
                          OUTQ(&PRT31) FORMTYPE(&PT31) COPIES(&COPIES)
             ENDDO
             ENDDO
    /*                                                           */
    /*        PDF                                                */
    /*                                                           */
             IF         COND(&LASER *EQ 'P') THEN(DO)
             OVRMSGF    MSGF(QUSERMSG) TOMSGF(SYMSGF)
             OVRPRTF    FILE(SYSJ16P) PAGESIZE(&LPP 80) CPI(10) +
                          OVRFLW(&LPP) DRAWER(&DRAWER) +
                          OUTBIN(&DRAWUT) FRONTOVL(&LOGO) +
                          OUTQ(&PRT31) FORMTYPE(&PT31) COPIES(&COPIES)
             ENDDO
    /*                                                           */
    /*        AFP                                                */
    /*                                                           */
             IF         COND(&LASER *EQ 'A') THEN(DO)
             OVRMSGF    MSGF(QUSERMSG) TOMSGF(SYMSGF)
             OVRPRTF    FILE(SYSJ16P) PAGESIZE(&LPP 80) CPI(10) +
                          FRONTMGN(0.10 0.23) OVRFLW(&LPP) +
                          DRAWER(&DRAWER) OUTBIN(&DRAWUT) +
                          FRONTOVL(&LOGO) OUTQ(&PRT31) +
                          FORMTYPE(&PT31) COPIES(&COPIES)
             ENDDO
             CALL       PGM(SYSJ16A) PARM(&AVD &OPD &NR)
       /* */
             ENDPGM
