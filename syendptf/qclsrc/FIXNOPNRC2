 /* BRUK SOM HALVFABRIKATA HOS UTVALGTE KUNDER SOM BENYTTER NOPNR... */
 /* Aldri snann om mer en EN fil, men.. behand via mappe=Navne-uavhengig..*/
 /* N01 - SKAL SDV FLATFIL OM DEN IKKE FINNES                              */
/* BEHANDLE EN CSV-NOPNR-FIL                                               */
             PGM  PARM(&DIR &ENTRY &ENTPATH)
             DCL        VAR(&DIR) TYPE(*CHAR) LEN(100)
             DCL        VAR(&ENTRY) TYPE(*CHAR) LEN(120)
             DCL        VAR(&ENTPATH) TYPE(*CHAR) LEN(256)
             DCL        VAR(&WS) TYPE(*CHAR) LEN(10)
             RTVJOBA    JOB(&WS)
/*BACKUP AV GAMMEL */
             DLTF       FILE(SYENDRE/NOPNR.G)
             MONMSG     MSGID(CPF0000)
             CPYF       FROMFILE(NOPNR) TOFILE(SYENDRE/NOPNR.G) +
                          CRTFILE(*YES)
             MONMSG     MSGID(CPF0000)
/*CSV-FIL TIL FYSISK  */
/*N01*/      CRTPF      FILE(SYENDRE/NOPNRSDV) RCDLEN(1024)
/*N01*/      MONMSG     MSGID(CPF0000)
             CPYFRMSTMF FROMSTMF(&ENTPATH) +
                          TOMBR('/QSYS.LIB/SYENDRE.LIB/NOPNRSDV.FILE/+
                          NOPNRSDV.MBR') MBROPT(*REPLACE) +
                          CVTDTA(*AUTO) STMFCODPAG(*STMF)

             CALL       PGM(FIXNOPNR)

             RMVLNK     OBJLNK(&ENTPATH)

             SNDBRKMSG  MSG('FIL ' *BCAT &ENTPATH *BCAT 'er +
                          konvertert til NOPNR. Gammel NOPNR er +
                          bevart som SYENDRE/NOPNR.G.') TOMSGQ(&WS)

 SLUTT:      ENDPGM
