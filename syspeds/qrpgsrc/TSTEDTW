      *********************************************************************
CRTPG+*  CRTPGM SYSPED/TSTEDTW MODULE(*LIBL/TSTEDTW)
CRTPGM*         ACTGRP(CGI) AUT(*USE)
      *********************************************************************
      /copy syspeds/qrpgsrcpy,hspecs
      /copy syspeds/qrpgsrcpy,hspecsbnd
      /copy syspeds/qrpgsrcpy,prototypeb
      *
      /copy syspeds/qrpgsrcpy,usec
      /copy syspeds/qrpgsrcpy,variables3
      *
      * edit codes
     D*editwd_0        C                    '   &   &   &   & 0 '
     D*editwd_1        C                    '   &   &   &   & 0 , '
     D*editwd_2        C                    '   &   &   &   & 0 ,  '
     D*editwd_3        C                    '   &   &   &   & 0 ,   '
     D*editwd_4        C                    '   &   &   &   & 0 ,    '
     D*editwd_5        C                    '   &   &   &   & 0 ,     '
     D*editwd_6        C                    '   &   &   &   & 0 ,      '
     D*editwd_7        C                    '   &   &   &   & 0 ,       '
     D* EKSEMPEL..( editwd_3 )....          '123 456 789 123 456,987'
      *
     C                   callp     gethtml('HTMLSRC':
     C                             '*LIBL':'TSTEDTW':'/CGITAG/')
      *
     C                   exsr      SetAll
     C                   callp     wrtsection('all')
     C                   callp     wrtsection('*fini')
     C                   return
      *=====================================================================
     C     SetAll        begsr
      ** test av editcode
     C                   z-add     1234567,98    Pos               9 2
     C                   z-sub     1234567,98    Neg               9 2
     C                   z-add     *zeros        Nul               9 2
     C                   z-add     9876543       PosHel            9 0
     C                   z-sub     9876543       NegHel            9 0
     C                   z-add     *zeros        NulHel            9 0
      *
     C                   callp     updHTMLvar('Pos':
     C                             %trim(%editw(Pos:editwd_2)))
      *
     c                   if        Neg < 0
     C                   callp     updHTMLvar('Neg':'- '+
     C                             %trim(%editw(Neg:editwd_2)))
     C                   else
     C                   callp     updHTMLvar('Neg':
     C                             %trim(%editw(Neg:editwd_2)))
     C                   end
      *
     C                   callp     updHTMLvar('Nul':
     C                             %trim(%editw(Nul:editwd_2)))
      *
     C                   callp     updHTMLvar('PosHel':
     C                             %trim(%editw(PosHel:editwd_0)))
      *
     c                   if        NegHel < 0
     C                   callp     updHTMLvar('NegHel':'- '+
     C                             %trim(%editw(NegHel:editwd_0)))
     C                   else
     C                   callp     updHTMLvar('NegHel':
     C                             %trim(%editw(NegHel:editwd_0)))
     C                   end
      *
     C                   callp     updHTMLvar('NulHel':
     C                             %trim(%editw(NulHel:editwd_0)))
      * Use getenvp to get this server's protocol and name
     c                   move      *blanks       ASCII            10
     C                   eval      ASCII      =getenv('CGI_ASCII_CCSID':
     C                             qusec)
     C                   callp     updHTMLvar('ASCII':ASCII)
      *
     c                   move      *blanks       EBCDIC           10
     C                   eval      EBCDIC     =getenv('CGI_EBCDIC_CCSID':
     C                             qusec)
     C                   callp     updHTMLvar('EBCDIC':EBCDIC)
      *
     c                   move      *blanks       IBM              10
     C                   eval      IBM        =getenv('IBM_CCSID_VALUE':
     C                             qusec)
     C                   callp     updHTMLvar('IBM':IBM)
      *
     c                   move      *blanks       NETCP            10
     C                   eval      NETCP      =getenv('NETCP':
     C                             qusec)
     C                   callp     updHTMLvar('NETCP':NETCP)
      *
     C                   endsr
