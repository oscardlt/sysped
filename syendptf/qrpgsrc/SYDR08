      *
      ***********************************************************
      *** start subsystemer autoomatisk                       ***
      ***********************************************************
      *
     FSYDRUSRF  IF   E             DISK
     FSYDRSBSJN IF   E           K DISK
     D                 DS
     D  XULTID                 1     14  0
     D  XULTM                  1      6  0
     D  XULDD                  7      8  0
     D  XULMM                  9     10  0
     D  XUL電                 11     14  0
     D                 DS
     D  UL電                   1      4  0
     D  ULMM                   5      6  0
     D  ULDD                   7      8  0
     D  UDATO                  1      8  0
     C*
     c     start0        tag
     c                   call      'SYDRSBSST'
     c                   parm                    ini               1
     C                   EXSR      INIT
     C*
     C     START         TAG
     C     keyst0        SETLL     SYDRSBSJN
     C     *in33         doweq     '0'
     C                   read      SYDRSBSJN                              33
     c     *in33         ifeq      '0'
      *
      * start manglende subsystem
      *
     C     syakti        ifeq      'N'
     C     systr         andeq     'J'
     C                   exsr      strsbs
     c                   eval      feil=%trim(FIRMA)
     c                             +' '
     c                             + %trim(SYSBS)
     c                              +' Startet Automatisk'
     c                   EXSR      sendmeld
     C                   END
      *
      * Restart de som skal startes hver dag
      *
     C     syakti        ifeq      'J'
     C     sydag         andeq     'J'
     C     systr         andeq     'J'
     c     udato         andgt     SYSTDT
     C                   exsr      restartsbs
     c                   eval      feil=%trim(FIRMA)
     c                             +' '
     c                             +%trim(SYSBS)
     c                              +' Restartet Automatisk (Dato)'
     c                   EXSR      sendmeld
     C                   END
     C                   END
     C                   ENDdo
     C     SLUTT         TAG
     C                   SETON                                        LR
     C                   RETURN
     C*
     C***********************************************
     C     INIT          BEGSR
     C***********************************************
     C     keyst0        KLIST
     C                   KFLD                    WSSBS            10
     C                   TIME                    XULTID
     C                   MOVE      XULDD         ULDD
     C                   MOVE      XULMM         ULMM
     C                   MOVE      XUL電         UL電
     c                   read      sydrusrf                               33
     C                   ENDSR
     C*
     C*
     C***********************************************
     C     strsbs        BEGSR
     C***********************************************
     c                   CALL      'SYDRSTRS'
     C                   PARM                    sysbs
     C                   PARM                    sylib
     c                   endsr
     C***********************************************
     C     restartsbs    BEGSR
     C***********************************************
     c                   CALL      'SYDRRSTS'
     C                   PARM                    sysbs
     C                   PARM                    sylib
     c                   endsr
     C***********************************************
     C     sendmeld      BEGSR
     C***********************************************
     c                   CALL      'SYDRSYSST'
     C                   PARM                    feil             70
     c                   endsr
