             PGM        PARM(&LINRUI)
/*___________________*/
/* Definier varabler */
/*"""""""""""""""""""*/
             DCL        VAR(&MSGID) TYPE(*CHAR) LEN(7)
             DCL        VAR(&MSG) TYPE(*CHAR) LEN(64)
             DCL        VAR(&LINRUI) TYPE(*CHAR) LEN(8)
/*________________________________*/
/* Hente meldinger fra meldingskø */
/*""""""""""""""""""""""""""""""""*/
 START:      RCVMSG     MSGQ(&LINRUI) MSGTYPE(*ANY) WAIT(1) +
                          MSG(&MSG) MSGID(&MSGID)
             IF         COND(&MSGID *EQ '       ') THEN(GOTO +
                          CMDLBL(END))
             IF         COND(&MSGID *EQ CPI8070) THEN(GOTO +
                          CMDLBL(CALL))
             IF         COND(&MSGID *EQ CPI8076) THEN(GOTO +
                          CMDLBL(CALL))
             GOTO       CMDLBL(START)
/*__________________________*/
/* Oppdater utvekslingslogg */
/*""""""""""""""""""""""""""*/
CALL:        CALL EDI30R4    PARM(&MSGID &MSG)
             GOTO CMDLBL(START)
END:         ENDPGM
