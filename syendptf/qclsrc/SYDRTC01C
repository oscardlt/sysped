             PGM        PARM(&SYSBS &LIB)
             DCL        VAR(&QJOB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&QUSER) TYPE(*CHAR) LEN(10)
             DCL        VAR(&QNBR) TYPE(*CHAR) LEN(6)
             DCL        VAR(&QSPLF) TYPE(*CHAR) LEN(10) VALUE('QPDSPSBJ')
             DCL        VAR(&SYFLIBP) TYPE(*CHAR) LEN(10)
             DCL        VAR(&SYSBS) TYPE(*CHAR) LEN(10)
             DCL        VAR(&LIB) TYPE(*CHAR) LEN(10)
             RTVJOBA    JOB(&QJOB) USER(&QUSER) NBR(&QNBR)
/*  BYGG WORKFILE */
             CRTDUPOBJ  OBJ(SYDRSTAT) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) NEWOBJ(SYDRSTAT)
             MONMSG     MSGID(CPF2130) EXEC(DO)
             CLRPFM     FILE(QTEMP/SYDRSTAT)
             ENDDO
/*  SUBSYSTEM IKKE STARTET */
NY:          WRKSBSJOB  SBS(&SYSBS) OUTPUT(*PRINT)
/* ER IKKE STARTET  */
             MONMSG     MSGID(CPF1003) EXEC(DO)
             STRSBS     SBSD(&LIB/&SYSBS)
             DLYJOB     DLY(180)
             GOTO       CMDLBL(NY)
             ENDDO
/*  SBS ER STARTET  */
             CPYSPLF    FILE(&QSPLF) TOFILE(QTEMP/SYDRSTAT) +
                          JOB(&QNBR/&QUSER/&QJOB) SPLNBR(*LAST) +
                          MBROPT(*ADD) CTLCHAR(*PRTCTL)
             DLTSPLF    FILE(&QSPLF) JOB(&QNBR/&QUSER/&QJOB) +
                          SPLNBR(*LAST)
             CALL       PGM(SYDR02TC) PARM(&SYSBS)
SLUTT:       ENDPGM
