             PGM        PARM(&DEV &JOBPR &TODATE)
             DCL        VAR(&DEV)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&JOBPR) TYPE(*CHAR) LEN(2)
             DCL        VAR(&TODATE)  TYPE(*CHAR) LEN(8)
             DCL        VAR(&LIB)  TYPE(*CHAR) LEN(10)
             DCL        VAR(&QYEAR)  TYPE(*CHAR) LEN(2)
             DCL        VAR(&QMONTH) TYPE(*CHAR) LEN(2)
             DCL        VAR(&QDAY)   TYPE(*CHAR) LEN(2)
             DCL        VAR(&FIL3)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&FIL4)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&FIL5)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&FIL6)   TYPE(*CHAR) LEN(10)

             CHGJOB     RUNPTY(&JOBPR) LOG(4 99 *SECLVL) LOGCLPGM(*YES)

             RTVDTAARA  DTAARA(EDIDTA (181 10)) RTNVAR(&LIB)

             RTVSYSVAL  SYSVAL(QYEAR)  RTNVAR(&QYEAR)
             RTVSYSVAL  SYSVAL(QMONTH) RTNVAR(&QMONTH)
             RTVSYSVAL  SYSVAL(QDAY)   RTNVAR(&QDAY)

             CHGVAR     VAR(&FIL3) VALUE('E' *CAT &QYEAR *CAT +
                          &QMONTH *CAT &QDAY *CAT '003')

             CHGVAR     VAR(&FIL4) VALUE('E' *CAT &QYEAR *CAT +
                          &QMONTH *CAT &QDAY *CAT '004')

             CHGVAR     VAR(&FIL5) VALUE('E' *CAT &QYEAR *CAT +
                          &QMONTH *CAT &QDAY *CAT '005')

             CHGVAR     VAR(&FIL6) VALUE('E' *CAT &QYEAR *CAT +
                          &QMONTH *CAT &QDAY *CAT '006')

             DLTF       FILE(QTEMP/QEDIRE)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/QEDIRE1K)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/QEDISE)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/QEDISE1K)
             MONMSG     MSGID(CPF0000)

             CRTDUPOBJ  OBJ(EDISE) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) NEWOBJ(QEDISE)
             CRTDUPOBJ  OBJ(EDISE1K) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) NEWOBJ(QEDISE1K)
             CRTDUPOBJ  OBJ(EDIRE) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) NEWOBJ(QEDIRE)
             CRTDUPOBJ  OBJ(EDIRE1K) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) NEWOBJ(QEDIRE1K)

             CALL       PGM(EDISAVLR) PARM(&LIB &TODATE)
       /* SAVE TIL TAPE */
             IF         COND(&DEV *NE '*DISK') THEN(DO)
             SAVOBJ     OBJ(QEDISE) LIB(QTEMP) DEV(&DEV) ENDOPT(*LEAVE)
             SAVOBJ     OBJ(QEDIRE) LIB(QTEMP) DEV(&DEV) ENDOPT(*LEAVE)
             SAVOBJ     OBJ(QEDIRE1K) LIB(QTEMP) DEV(&DEV) ENDOPT(*LEAVE)
             SAVOBJ     OBJ(QEDISE1K) LIB(QTEMP) DEV(&DEV)
             ENDDO

       /* SAVE TIL DISK */
             IF         COND(&DEV *EQ '*DISK') THEN(DO)
             MOVOBJ     OBJ(QTEMP/QEDIRE) OBJTYPE(*FILE) TOLIB(&LIB)
             RNMOBJ     OBJ(&LIB/QEDIRE) OBJTYPE(*FILE) NEWOBJ(&FIL3)
             MOVOBJ     OBJ(QTEMP/QEDIRE1K) OBJTYPE(*FILE) TOLIB(&LIB)
             RNMOBJ     OBJ(&LIB/QEDIRE1K) OBJTYPE(*FILE) NEWOBJ(&FIL4)
             MOVOBJ     OBJ(QTEMP/QEDISE) OBJTYPE(*FILE) TOLIB(&LIB)
             RNMOBJ     OBJ(&LIB/QEDISE) OBJTYPE(*FILE) NEWOBJ(&FIL5)
             MOVOBJ     OBJ(QTEMP/QEDISE1K) OBJTYPE(*FILE) TOLIB(&LIB)
             RNMOBJ     OBJ(&LIB/QEDISE1K) OBJTYPE(*FILE) NEWOBJ(&FIL6)
             ENDDO

             ENDPGM
