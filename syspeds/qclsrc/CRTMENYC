             PGM        PARM(&LIBSOUR &LIBLOAD)
             DCL        VAR(&LIBSOUR) TYPE(*CHAR) LEN(10)
             DCL        VAR(&LIBLOAD) TYPE(*CHAR) LEN(10)
             DCL        VAR(&MENU) TYPE(*CHAR) LEN(8)
             DCL        VAR(&MENUQQ) TYPE(*CHAR) LEN(10)
             DCLF       FILE(CRTMENYF) RCDFMT(QWHFDML)
             DSPFD      FILE(&LIBSOUR/QMENUSRC) TYPE(*MBRLIST) +
                          OUTPUT(*OUTFILE) FILEATR(*PF) +
                          OUTFILE(CRTMENYF)
             MONMSG     MSGID(CPF0000)
 READ:       RCVF       RCDFMT(*FILE)
             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(EXIT))
             IF         COND(&MLSEU *EQ 'MNUD') THEN(DO)
             CHGVAR     VAR(&MENU) VALUE(&MLNAME)
             CHGVAR     VAR(&MENUQQ) VALUE(&MLNAME)
             CALL       PGM(CRTMENQQ) PARM(&MENUQQ)
             CALL       PGM(CRTMENY) PARM(&LIBSOUR &LIBLOAD &MENU +
                          &MENUQQ)
             ENDDO
             GOTO       CMDLBL(READ)
 EXIT:       ENDPGM
