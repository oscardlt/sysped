     H DFTACTGRP(*NO)
     FEDIM8     UF   E           K DISK
     FEDIS      IF   E           K DISK
     FEDISE     UF   E           K DISK
     FEDIRE     UF   E           K DISK
     FEDISE1K   UF   E           K DISK    RENAME(EDISER:EDISER1K)
     F                                     PREFIX(K_)
     FEDIRE1K   UF   E           K DISK    RENAME(EDIRER:EDIRER1K)
     F                                     PREFIX(K_)
     FEDISX     UF   E           K DISK
     FXMLRCVF   UF   E           K DISK
     FXMLRCAF   UF   E           K DISK
     FXMLRCLF   UF   E           K DISK

     d                 ds
     d  ssn                    1      9  0
     d  ssn_a                  1      9
     d                 ds
     d  xnr07                  1      7  0
     d  xan07                  1      7

     D ufil            S            256A
      *
      *  Prototype for 'SYREO01C3'
     d SYREO01C3       pr                  extpgm('SYREO01C3')
     d ufil_                               like(ufil)
      *  Prototype for syreo06fix
     d syreo06fix      pr
      *  *ENTRY Interface for Main Procedure
     d syreo06fix      pi
      /free

         exsr init;

         exsr srhoved;

       *inlr = *on;
       return;

       //=====================================================================
       // Hoved logikk
       //=====================================================================
       begsr srhoved;

         setll *loval edim8;
         read edim8;
         dow not %eof;
           if mdt > 00001231;
             update edimr;
             leave;
           endif;
           chain msn edis;
           if %found;
             update edimr;
           else;
             delete edimr;
           endif;
           read edim8;
         enddo;

         setll *loval edisx;
         read edisx;
         dow not %eof;
           if sxprodm <> *blanks;
             if %subst(sxprodm:9:2) = *blanks;
               xan07 = %subst(sxprodm:2:7);
               ssn   = xnr07;
             else;
               ssn_a = %subst(sxprodm:2:9);
             endif;
             chain ssn edis;
             if not %found;
               if sxifsobj <> *blanks and %subst(sxifsobj:1:1) <> '/';
                 sxifsobj = '/' + %trim(sxifsobj);
               endif;
               syreo01c3 (sxifsobj);
               delete edisxr;
             else;
               update edisxr;
             endif;
           else;
             update edisxr;
           endif;
           read edisx;
         enddo;

         setll *loval edire;
         read edire;
         dow not %eof;
           ssn_a = %subst(rembr:2:9);
           chain ssn edis;
           if not %found;
             delete edirer;
           else;
             update edirer;
           endif;
           read edire;
         enddo;

         setll *loval edise;
         read edise;
         dow not %eof;
           ssn_a = %subst(sembr:2:9);
           chain ssn edis;
           if not %found;
             delete ediser;
           else;
             update ediser;
           endif;
           read edise;
         enddo;

         setll *loval edire1k;
         read edire1k;
         dow not %eof;
           ssn_a = %subst(k_rembr:2:9);
           chain ssn edis;
           if not %found;
             delete edirer1k;
           else;
             update edirer1k;
           endif;
           read edire1k;
         enddo;

         setll *loval edise1k;
         read edise1k;
         dow not %eof;
           ssn_a = %subst(k_sembr:2:9);
           chain ssn edis;
           if not %found;
             delete ediser1k;
           else;
             update ediser1k;
           endif;
           read edise1k;
         enddo;

         setll *loval xmlrcvf;
         read xmlrcvf;
         dow not %eof;
           chain xrsn edis;
           if not %found;
             exec sql
             delete from XMLRCAF
             where xrsn = :xrsn
             with NC;
             exec sql
             delete from XMLRCLF
             where xrsn = :xrsn
             with NC;
             delete xmlrcvfr;
           else;
             update xmlrcvfr;
           endif;
           read xmlrcvf;
         enddo;

       endsr;

       //***********************************************
       begsr init;
       //***********************************************

       endsr;

      /end-free
