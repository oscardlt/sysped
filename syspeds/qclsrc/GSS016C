/* *********************************************************************   */
/*       * RETTINGER I DETTE PROGRAM:                                      */
/* PTFnr:*Sek Sig Vers  Beskrivelse..........................              */
/* """"""*"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""    */
/* 10XXX * 01 YBC PTF10 KLOKKE FOR NYE ORDRE                               */
/* ********************************************************************    */
             PGM
             DCL        VAR(&USRPRF) TYPE(*CHAR) LEN(10)
             DCL        VAR(&SLUTT) TYPE(*CHAR) LEN(1)
/*N01*/      DCL        VAR(&KL) TYPE(*CHAR) LEN(6) VALUE('000000')

             CALL       PGM(SYSPED/INLIBL)
             DLTDTAARA  DTAARA(SYENDRE/SSDTA)
             MONMSG     MSGID(CPF2105)
             CRTDTAARA  DTAARA(SYENDRE/SSDTA) TYPE(*CHAR) LEN(100) +
                          TEXT('For utskrift av nye registrerte +
                          ordre i shipsystem')
             RTVUSRPRF  RTNUSRPRF(&USRPRF)
             CHGDTAARA  DTAARA(SYENDRE/SSDTA (1 10)) VALUE(&USRPRF)
             CHGDTAARA  DTAARA(SYENDRE/SSDTA (11 5)) VALUE('     ')
 /*N01*/     CHGDTAARA  DTAARA(SYENDRE/SSDTA (32 6)) VALUE(&KL)

 START:      SBMJOB     CMD(CALL PGM(GSS016C1)) JOB(NEWORDERS) +
                          JOBQ(SYSPED/SYJOBQNMAX)
 LOOP:       RTVDTAARA  DTAARA(SYENDRE/SSDTA (29 1)) RTNVAR(&SLUTT)
             IF         COND((&SLUTT *NE 'J') *AND (&SLUTT *NE 'N')) +
                          THEN(DO)
             DLYJOB     DLY(5)
             GOTO       CMDLBL(LOOP)
             ENDDO

             IF         COND(&SLUTT *NE 'J') THEN(DO)
             CHGDTAARA  DTAARA(SYENDRE/SSDTA (29 1)) VALUE('G')
             GOTO       CMDLBL(START)
             ENDDO
             DLTDTAARA  DTAARA(SYENDRE/SSDTA)

             ENDPGM
