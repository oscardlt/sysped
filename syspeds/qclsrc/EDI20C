PGM
/*___________________*/
/* Definier varabler */
/*"""""""""""""""""""*/
             DCL        VAR(&MSGID) TYPE(*CHAR) LEN(7)
             DCL        VAR(&LINRUI) TYPE(*CHAR) LEN(8)
             DCL        VAR(&LINRUA) TYPE(*CHAR) LEN(8)
/*_________________*/
/* Endre variabler */
/*"""""""""""""""""*/
             CHGVAR     VAR(&LINRUI) VALUE('STATUS')
             CHGVAR     VAR(&LINRUA) VALUE('NO542SYS')
/*__________________________*/
/* Klargør utfil for QRYDST */
/*""""""""""""""""""""""""""*/
             CRTDUPOBJ  OBJ(E101CQ) FROMLIB(SYEDIF) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) NEWOBJ(QRYDST)
/*__________________________*/
/* Klargør utfil for RCVDST */
/*""""""""""""""""""""""""""*/
             CRTDUPOBJ  OBJ(E101CR) FROMLIB(SYEDIF) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) NEWOBJ(RCVDST)
             CHGPF      FILE(RCVDST) FRCRATIO(1)
/*__________________________*/
/* Klargør utfil for SNDDST */
/*""""""""""""""""""""""""""*/
             CRTDUPOBJ  OBJ(E101C) FROMLIB(SYEDIF) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) NEWOBJ(SNDDST)
             CHGPF      FILE(SNDDST) FRCRATIO(1)
/*______________________________________________*/
/* Legg til bibliotek for SYSPED og TradeVision */
/*""""""""""""""""""""""""""""""""""""""""""""""*/
/*________________________*/
/* Lukk og åpne query-fil */
/*""""""""""""""""""""""""*/
/*_____________________________*/
/* Vente på melding om ny post */
/*"""""""""""""""""""""""""""""*/
START:       RCVMSG     MSGQ(&LINRUI) MSGTYPE(*ANY) WAIT(*MAX) +
                          MSGID(&MSGID)
             IF         COND(&MSGID *NE CPI904B) THEN(GOTO +
                          CMDLBL(START))
/*_______________________________________*/
/* Hente ID til document og DOC til file */
/*"""""""""""""""""""""""""""""""""""""""*/
             CALL EDI20C2    PARM(&LINRUI &LINRUA)
             CLRPFM     FILE(SNDDST)
             MONMSG     MSGID(CPF0000)
             GOTO CMDLBL(START)
             ENDPGM
