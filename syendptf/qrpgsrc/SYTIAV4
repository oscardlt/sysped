********************************************************************
      * RETTINGER I DETTE PROGRAM:
PTFnr:*Sek Sig Vers  Beskrivelse...........................
""""""*"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
12XXX * 01 YBC PTF12 IKKE SLETT POST I SADSDNY VED FISKAVGIFT
********************************************************************
      * LES GAMMEL SADSD,  SJEKK MOT NY FIL....
      * HVIS ENN GYLDIG, OPPDATER (BEHOLD AKTIV/INAKTIV-KODE)
      * HVIS IKKE, SLETT
     H DATEDIT(*DMY)
     FSADSD     UP   E             DISK
     FSADSDNY   UF   E           K DISK
     F                                     RENAME(SADSDR:SADSDRX)
     ISADSDRX
     I              SDTNRF                      SXTNRF
     I              SDKDA                      SXKDA
     I              SDKDS                      SXKDS
     I              SDDTF                       SXDTF
     I              SDDTT                       SXDTT
     I              SDAKTK                      SXAKTK
     I              SDBLS                      SXBLS
     I              SDHKOD                      SXHKOD
     I              SDVF                        SXVF
     I              SDTRM                       SXTRM
      *
     C     XINIT         IFEQ      ' '
     C     KEY           KLIST
     C                   KFLD                    SDTNRF
     C                   KFLD                    SDKDA
     C                   KFLD                    SDKDS
     C                   MOVE      'J'           XINIT             1
     C                   CALL      'SYGE15C'
     C                   PARM                    WDT               8
     C                   PARM                    WTM               6
     C                   MOVE      WDT           XDT               8 0
     C                   MOVE      'SUB'         UFUNK             3
     C                   MOVE      WDT           UDT1              8 0
     C                   Z-ADD     1             UDAG              5 0
     C                   END
      *
     C     KEY           CHAIN     SADSDNY                            33
     C  N33              SELECT
     C     SXBLS        WHENEQ    SDBLS
      * Like sats i ny og tidligere.
     C     SXDTF         IFLT      SDDTF
      * Ny startdato er tidligere enn i SADSD --> Sett ny startdato i SADSD
     C                   MOVE      SXDTF         SDDTF
     C                   END
     C     SXDTT         IFGT      SDDTT
     C     SXDTT         ORNE      0
     C     SDDTT         ANDEQ     99999999
     C     SXDTT         ORNE      0
     C     SDDTT         ANDEQ     99991231
      * Ny sluttdato er ikke 0 og sluttdato i SADSD er senere --> Sett sluttdato i SADSD
      *                                                           og slett post i SADSDNY
     C                   MOVE      SXDTT         SDDTT
     C                   END
N01  C                   IF        SDKDA = 'FF'
N01  C                   UPDATE    SADSDRX
N01  C                   ELSE
      * Slett tariff i SADSDNY
     C                   DELETE    SADSDRX
N01  C                   END
     C     SXDTF         WHENGT    SDDTF
      * Ny startdato er senere enn sluttdato i SADSD
     C     SXDTF         IFLT      SDDTT
      * Ny startdato er tigligere enn sluttdato i SADSD --> Sett sluttdato i SADSD = ny startdato
     C                   MOVE      SXDTF         SDDTT
     C                   END
     C                   UPDATE    SADSDRX
     C                   OTHER
     C     SXDTT         IFLT      SDDTT
      * Ny startdato er tigligere enn sluttdato i SADSD --> Sett sluttdato som sluttdato i SADSD
     C                   MOVE      SXDTT         SDDTF
     C                   ELSE
      * Ny startdato er senere enn sluttdato i SADSD --> slett post i SADSD
     C                   DELETE    SADSDR
     C                   GOTO      SLUTT
     C                   END
     C                   UPDATE    SADSDRX
     C                   ENDSL
     C   33              IF        ((SDKDA <> 'RT') AND
     C                              (XDT < SDDTT))
     C                   CALL      'SYGE20'
     C                   PARM                    UFUNK
     C                   PARM                    UDT1              8 0
     C                   PARM                    UDT2              8 0
     C                   PARM                    UDAG              5 0
     C                   MOVE      UDT2          SDDTT
     C                   END
      *
     C                   UPDATE    SADSDR
     C     SLUTT         TAG
      *
