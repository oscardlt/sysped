             PGM        PARM(&IID &OK &SSN)
             /*_____________________*/
             /* Deklarere Variabler */
             /*"""""""""""""""""""""*/
             DCL        VAR(&IID) TYPE(*CHAR) LEN(35)
             DCL        VAR(&RMTSYS) TYPE(*CHAR) LEN(64)
             DCL        VAR(&STS1) TYPE(*CHAR) LEN(27) VALUE('226 +
                          Transfer complete      ')
             DCL        VAR(&STS3) TYPE(*CHAR) LEN(27)
             DCL        VAR(&OK) TYPE(*CHAR) LEN(2) VALUE('  ')
             DCL        VAR(&SSN) TYPE(*DEC) LEN(9 0)
             /*_______________*/
             /* Deklarere Fil */
             /*"""""""""""""""*/
             DCLF       FILE(EDI07C0S)
             /*_____________________________________________*/
             /* Generere fil for tcpip kommandoer og output */
             /*"""""""""""""""""""""""""""""""""""""""""""""*/
             CLRPFM     FILE(EDI07C0R)
             MONMSG     MSGID(CPF0000)
             CLRPFM     FILE(EDI07C0S)
             MONMSG     MSGID(CPF0000)
             CALL       PGM(EDI07C0SR) PARM(&RMTSYS &SSN)
             /*_______________*/
             /* Send over fil */
             /*"""""""""""""""*/
             OVRDBF     FILE(INPUT) TOFILE(EDI07C0R)
             OVRDBF     FILE(OUTPUT) TOFILE(EDI07C0S)
             STRTCPFTP  RMTSYS(&RMTSYS)
             /*_____________________*/
             /* Status for sendning */
             /*"""""""""""""""""""""*/
             CHGVAR     VAR(&OK) VALUE('  ')
 READ:       RCVF       RCDFMT(*FILE)
             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(EXIT))
             CHGVAR     VAR(&STS3) VALUE(%SUBSTRING(&EDI07C0S 1 27))
             IF         COND(&STS3 *EQ &STS1) THEN(DO)
             CHGVAR     VAR(&OK) VALUE('OK')
             GOTO       CMDLBL(EXIT)
             ENDDO
             GOTO       CMDLBL(READ)
 EXIT:       IF         COND(&OK *EQ 'OK') THEN(DO)
             ENDDO
             ENDPGM
