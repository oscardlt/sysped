     FSVIH      UF   E           K DISK
     FSVI015D   CF   E             WORKSTN
     ‚*  Prototype for SRA
     D SRA             PR
     ‚*  Prototype for Svi015rf
     D Svi015rf        PR
     D ZVIH_SYAV_                          LIKE(ZVIH_SYAV)
     D ZVIH_SYOP_                          LIKE(ZVIH_SYOP)
     ‚*  Key list
     D SVIH_KEY        DS
     D ZVIH_SYAV                      4  0
     D ZVIH_SYOP                      7  0
     ‚*  Prototype for SRB
     D SRB             PR
     ‚*  *ENTRY Interface for Main Procedure
     D Svi015rf        PI
     D ZVIH_SYAV                      4  0
     D ZVIH_SYOP                      7  0
     ‚*----------------------------------------------------------------------
     ‚* Stand Alone Fields - TOP
     ‚*----------------------------------------------------------------------
     ‚*----------------------------------------------------------------------
     ‚* Stand Alone Fields - BOTTOM
     ‚*----------------------------------------------------------------------
     ‚*//////////////
     ‚*  Hodelogikk /
     ‚*//////////////
      /FREE
        SRA();
        SRB();
        *INLR = *ON;
       //////////////////////////////////////////////////////////////
       //  Initiering                                           SRA /
       //////////////////////////////////////////////////////////////
      /END-FREE
     P SRA             B
     ‚*____________________
     ‚* Definiere variabler
     ‚*""""""""""""""""""""
     ‚*_________________
     ‚* Input parametere
     ‚*"""""""""""""""""
     ‚*__________________
     ‚* Definiere Nøkkler
     ‚*""""""""""""""""""
     C     SVIH_KEY      KLIST
     C                   KFLD                    ZVIH_SYAV
     C                   KFLD                    ZVIH_SYOP
     P SRA             E
     ‚*////////////////////////////////////////////////////////////
     ‚*  Bearbeide Formater                                   SRB /
     ‚*////////////////////////////////////////////////////////////
     P SRB             B
      /FREE
       CHAIN(N) %KDS(SVIH_KEY) SVIH;
        *IN90 = NOT %FOUND;
        ZVIH_SGGM=SVIH_SYSG;
        ZVIH_SGNY=*BLANKS;
       // Viser bilde
      /END-FREE
     C     TAG01         TAG
      /FREE
       EXFMT SVI015DA;
       // andre funksjonstaster
      /END-FREE
     C     *IN03         CABEQ     *ON           SRB8
     C     *IN12         CABEQ     *ON           SRB9

     C     SRB8          TAG
      /FREE
       CHAIN %KDS(SVIH_KEY) SVIH;
        *IN90 = NOT %FOUND;
        SVIH_SYSG=ZVIH_SGNY;
       UPDATE SVIHR;

      /END-FREE
     C     SRB9          TAG
     P SRB             E
