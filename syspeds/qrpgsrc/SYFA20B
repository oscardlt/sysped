********************************************************************
      * RETTINGER I DETTE PROGRAM:
PTFnr:*Sek Sig Vers  Beskrivelse...........................
""""""*"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
10XXX * 01 YBC PTF10 NYTT PARAMETER FOR ≈ H≈NDTERE FEIL DATO
********************************************************************
      *
      ***********************************************************
      *** PROGRAM SKAL BEREGNE DATO                           ***
      *** INDIKATORER 01 - 26 KUN CMD-TASTER / ROLL TASTER    ***
      *** LEDIGE INDIKATORER 01-26                            ***
      *** LEDIGE INDIKATORER 27-99                            ***
      ***********************************************************
      *
     D                 DS
     DINNDATO                          D   DATFMT(*ISO)
     D                 DS
     DUTDATO                           D   DATFMT(*ISO)
     D                 DS
     D  XDATO                  1      6  0
     D  XDD                    1      2  0
     D  XMM                    3      4  0
     D  X≈≈                    5      6  0
     D                 DS
     D  XINNDATO               1      8  0
     D  XIDATO≈                1      4  0
     D  XIDATOM                5      6  0
     D  XIDATOD                7      8  0
     D                 DS
     D  XUTDATO                1      6  0
     D  XUDATOD                1      2  0
     D  XUDATOM                3      4  0
     D  XUDATO≈                5      6  0
     D                 DS
     D  DATOI                  1     10
     D  AARI                   1      4
     D  HYF1                   5      5
     D  MNDI                   6      7
     D  HYF2                   8      8
     D  DAGI                   9     10
     D                 DS
     D  DATOU                  1     10
     D  AARU                   1      4
     D  MNDU                   6      7
     D  DAGU                   9     10
      *
      * PARAMETRE INN TIL PROGRAMMET
      * DATOFORMAT FOR PARAMETRE ER DDMM≈≈
     C     *ENTRY        PLIST
     C                   PARM                    UINNDATO          6 0
     C                   PARM                    UANTDAG           3 0
     C                   PARM                    UUTDATO           6 0
N01  C                   PARM                    UFLAGG            1 0
      *
     C                   IF        UINNDATO = 0
      * HENTER UDATE
     C                   MOVE      UDAY          XIDATOD
     C                   MOVE      UMONTH        XIDATOM
     C     UYEAR         ADD       2000          XIDATO≈
     C                   ELSE
     C                   MOVE      UINNDATO      XDATO
     C                   MOVE      XDD           XIDATOD
     C                   MOVE      XMM           XIDATOM
     C     X≈≈           ADD       2000          XIDATO≈
     C                   ENDIF
     C
      *
      *
      * FLYTTER DAT TIL VARIABEL P≈ DATOFORMAT
      *
     C                   MOVE      XIDATO≈       AARI
     C                   MOVE      XIDATOM       MNDI
     C                   MOVE      XIDATOD       DAGI
     C                   MOVE      '-'           HYF1
     C                   MOVE      '-'           HYF2
      *
     C                   MOVE      DATOI         INNDATO
     C                   MOVE      DATOI         UTDATO
     C     INNDATO       ADDDUR    UANTDAG:*DAYS UTDATO
     C                   MOVE      UTDATO        DATOU
      *
     C                   MOVE      AARU          XUDATO≈
     C                   MOVE      MNDU          XUDATOM
     C                   MOVE      DAGU          XUDATOD
     C                   MOVE      XUTDATO       UUTDATO
      *
     C                   SETON                                        LR
     C                   RETURN
N01   *////////////////////////////////////////////////////////////
N01   * SR for hÂndtering av feil                           *PSSR /
N01   *////////////////////////////////////////////////////////////
N01  C     *PSSR         BEGSR
N01  C                   EVAL      UFLAGG  = 1
N01  C                   EVAL      UUTDATO = UINNDATO
N01   *
N01  C                   ENDSR     '*CANCL'
N01   *
