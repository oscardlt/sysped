/* *********************************************************************   */
/*       * RETTINGER I DETTE PROGRAM:                                      */
/* PTFnr:*Sek Sig Vers  Beskrivelse..........................              */
/* """"""*"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""    */
/* 10XXX * 01 YBC PTF10 ARKIVERE UTSKRIFT                                  */
/* 10XXX * 02 YBC PTF10 HVIS UTKØ IKKE ER DEFINERT, SETT QPRINT            */
/* ********************************************************************    */
             PGM        PARM(&MNA)
             DCL        VAR(&MNA) TYPE(*CHAR) LEN(9)
/*N01*/      DCL        VAR(&INFOP) TYPE(*CHAR) LEN(1)
/*N01*/      DCL        VAR(&BANEA) TYPE(*CHAR) LEN(70)
/*N01*/      DCL        VAR(&BANEB) TYPE(*CHAR) LEN(70)
/*N01*/      DCL        VAR(&QUSER) TYPE(*CHAR) LEN(10)
/*N01*/      DCL        VAR(&QJOB) TYPE(*CHAR) LEN(10)
/*N01*/      DCL        VAR(&QNBR) TYPE(*CHAR) LEN(6)
/*N01*/      DCL        VAR(&FILEN) TYPE(*CHAR) LEN(10)
/*______________*/
/* LES FIRMAFIL */
/*""""""""""""""*/
             DCLF       FILE(FIRMDAG) RCDFMT(*ALL)
             RCVF       DEV(*FILE) RCDFMT(*FILE)
/*N02*/      IF         COND(&DGPRIN = ' ') THEN(CHGVAR VAR(&DGPRIN) +
                          VALUE('QPRINT'))
             OVRPRTF    FILE(E170PA) PAGESIZE(70 120) CPI(15) +
                          OVRFLW(64) OUTQ(&DGPRIN) SAVE(*YES)
             OVRPRTF    FILE(E170PB) PAGESIZE(70 120) CPI(15) +
                          OVRFLW(64) OUTQ(&DGPRIN) SAVE(*YES)
/*N01*/      OVRPRTF    FILE(E170PAARK) DEVTYPE(*AFPDS) PAGESIZE(70 +
                          120) CPI(15) OVRFLW(64) OUTQ(OUTMAIL) +
                          FORMTYPE(*STD) HOLD(*YES)
/*N01*/      OVRPRTF    FILE(E170PBARK) DEVTYPE(*AFPDS) PAGESIZE(70 +
                          120) CPI(15) OVRFLW(64) OUTQ(OUTMAIL) +
                          FORMTYPE(*STD) HOLD(*YES)

/*S01        CALL       PGM(E170R_93A) PARM(&MNA)               */
/*N01*/      CALL       PGM(E170R_93A) PARM(&MNA &INFOP &BANEA &BANEB)

/*N01  DAGSOPPGJØR */
/*N01*/      IF         COND(&BANEA *NE ' ') THEN(DO)
/*N02*/      ADDLIBLE   LIB(MMAIL) POSITION(*LAST)
/*N02*/      MONMSG     MSGID(CPF0000)
/*N01*/      RTVJOBA    JOB(&QJOB) USER(&QUSER) NBR(&QNBR)
/*N01*/      IF         COND(&INFOP = 'N') THEN(DO)
/*N01*/      CVTSPLFPDF SPLF(E170PAARK) JOB(&QNBR/&QUSER/&QJOB) +
                          TOPDF(&BANEA)
/*N01*/      ENDDO
/*N01*/      IF         COND(&INFOP = 'J') THEN(DO)
/*N01*/      CHGVAR     VAR(&FILEN) VALUE('E170PAARK')
/*N01*/      CALL       PGM(INF001CL) PARM(&FILEN &QNBR &QUSER &QJOB +
                          &BANEA)
/*N01*/      ENDDO
/*N02*/      RMVLIBLE   LIB(MMAIL)
/*N02*/      MONMSG     MSGID(CPF0000)
/*N01*/      ENDDO

/*N01  KONTROLLISTE */
/*N01*/      IF         COND(&BANEB *NE ' ') THEN(DO)
/*N02*/      ADDLIBLE   LIB(MMAIL) POSITION(*LAST)
/*N02*/      MONMSG     MSGID(CPF0000)
/*N01*/      RTVJOBA    JOB(&QJOB) USER(&QUSER) NBR(&QNBR)
/*N01*/      IF         COND(&INFOP = 'N') THEN(DO)
             CVTSPLFPDF SPLF(E170PBARK) JOB(&QNBR/&QUSER/&QJOB) +
                          TOPDF(&BANEB)
/*N01*/      ENDDO
/*N01*/      IF         COND(&INFOP = 'J') THEN(DO)
/*N01*/      CHGVAR     VAR(&FILEN) VALUE('E170PBARK')
/*N01*/      CALL       PGM(INF001CL) PARM(&FILEN &QNBR &QUSER &QJOB +
                          &BANEB)
/*N01*/      ENDDO
/*N02*/      RMVLIBLE   LIB(MMAIL)
/*N02*/      MONMSG     MSGID(CPF0000)
/*N01*/      ENDDO

             ENDPGM
