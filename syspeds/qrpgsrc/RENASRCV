     H debug(*yes)
     Frenasrcvf IP   F  256        DISK
     Frenasp    O  A E             DISK
     D A               S              1    DIM(79)
     D B               S              1    DIM(18)
      *________________________
      * DS for data
      *""""""""""""""""""""""""
     D                 DS
     D  data                   1    300
     D  da                     1    300
     D                                     DIM(300)
     D                 DS
     D  felta                  1     60
     D  fa                     1     60
     D                                     DIM(60)
     D                 DS
     D  dta                    1   6000
     D                                     DIM(60)
     D LO              C                   CONST('abcdefghijklmnopqrst-
     D                                     uvwxyz')
     D UP              C                   CONST('ABCDEFGHIJKLMNOPQRST-
     D                                     UVWXYZ')
      *
     D                 DS
     D  Xrendta                1     39
     D  Xrenfor                1      9
     D  Xrennvn               10     39
     D                 DS
     D  Xrenkoder              1      5
     D  Xkode01                1      2
     D  Xkolon                 3      3
     D  Xkode02                4      5
     Irenasrcvf NC  01
     I                                  1   80  fdata
      *____________
      *
     C*
     c                   movel     fdata         data
      *
     c                   exsr      konv
      *
     C                   MOVE      xrenfor       renfor            9
     C                   MOVE      xrennvn       rennvn           30
     C                   move      xkode01       kode01            2
     C                   move      xkolon        kolon             1
     C                   move      xkode02       kode02            2
      *
     c
     C                   WRITE     renaspr
      *
      ***********************************************************************
     c     konv          begsr
      ***********************************************************************
      *
      * INITIERER VARIABLE
      *
     c                   z-add     1             fra               3 0
     c                   z-add     1             til               3 0
     c                   z-add     0             DN                3 0
      *
      * leser til neste skilletegn ';'
      *
     c     til           dowlt     300
     C     da(til)       ifne      ';'
     c                   add       1             til
     c                   else
      *
      * fra og til er funnet
      *
     c                   exsr      dekod
     c                   add       1             til
     c                   z-add     til           fra
     c                   endif
     c                   enddo
      *
      * siste post
      *
     c     fra           add       58            til
     c                   exsr      dekod
      * DETALJBEHANDLING
      *
     c                   exsr      DETSR
     c                   endsr
      *
     c***************************************************************
     c     dekod         begsr
     c***************************************************************
      *
      * dekoder innlest post
      *
     c     til           sub       fra           antp              3 0
     c     antp          ifgt      0
     c                   exsr      dokoda
     c                   add       1             dn
     c                   movel     felta         dta(dn)
     C                   ELSE
     c                   add       1             dn
     c                   end
     c                   endsr
     c***************************************************************
     c     DOKODA        begsr
     c***************************************************************
     c*    dekoder  TIL FELTA
     c*
     c                   move      *blanks       felta
     c                   z-add     fra           nr                3 0
     c                   z-add     1             n2                3 0
     c                   do        antp
     c                   move      da(nr)        fa(n2)
     c                   add       1             n2
     c                   add       1             nr
     c                   enddo
     c                   endsr
     c***************************************************************
     c     DETSR         begsr
     c***************************************************************
      *
      * Foretaksnr     1-9
      *
     C                   MOVEL     dta(1)        xrenfor           9
      *
      * Navn
      *
     c                   movel     dta(2)        xrennvn          30
      *
      *
      * kode01
      *
     C                   movel     dta(3)        xrenkoder         5
     C                   endsr
      *
