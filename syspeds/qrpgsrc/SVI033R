********************************************************************
      * RETTINGER I DETTE PROGRAM:
PTFnr:*Sek Sig Vers Beskrivelse...........................
""""""*"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
P1000A* 01 CB  PTF10  kode till særskilda upplysningar
********************************************************************
     FSVIX      UF A E           K DISK
     FSVI033D   CF   E             WORKSTN
N01  F                                     INFDS(FBAREA)
N01  D FBAREA          DS
N01  D  WSCLOC               370    371B 0
N01  D  WSSUBN               378    379B 0
      *//////////////
      *  Hodelogikk /
      *//////////////
     C                   EXSR      SRA
     C                   EXSR      SRB
     C                   MOVE      '1'           *INLR
      *////////////////////////////////////////////////////////////
      *  Initiering                                           SRA /
      *////////////////////////////////////////////////////////////
     C     SRA           BEGSR
      *____________________
      * Definiere variabler
      *""""""""""""""""""""
     C     *LIKE         DEFINE    SVIX_SYAV     ZVIX_SYAV
     C     *LIKE         DEFINE    SVIX_SYOP     ZVIX_SYOP
      *_________________
      * Input parametere
      *"""""""""""""""""
     C     *ENTRY        PLIST
     C                   PARM                    ZVIX_SYAV
     C                   PARM                    ZVIX_SYOP
      *__________________
      * Definiere Nøkkler
      *""""""""""""""""""
     C     SVIX_KEY      KLIST
     C                   KFLD                    ZVIX_SYAV
     C                   KFLD                    ZVIX_SYOP
N01   *_________________________________
N01   * Hæmta dagens datum och klockslag
N01   *"""""""""""""""""""""""""""""""""
N01  C                   CALL      'SYGE15C'
N01  C                   PARM                    WDT               8
N01  C                   PARM                    WTM               6
     C                   ENDSR
      *////////////////////////////////////////////////////////////
      *  Bearbeide Formater                                   SRB /
      *////////////////////////////////////////////////////////////
     C     SRB           BEGSR
     C     SVIX_KEY      CHAIN(N)  SVIX                               90
     C                   EVAL      XVIX_SYAV=ZVIX_SYAV
     C                   EVAL      XVIX_SYOP=ZVIX_SYOP
N01  C                   EVAL      XVIX_SUK1=SVIX_SUK1
N01  C                   EVAL      XVIX_SUK6=SVIX_SUK6
N01  C                   EVAL      XVIX_SUK11=SVIX_SUK11
     C                   EVAL      XVIX_SUT1=SVIX_SUT1
     C                   EVAL      XVIX_SUT2=SVIX_SUT2
     C                   EVAL      XVIX_SUT3=SVIX_SUT3
     C                   EVAL      XVIX_SUT4=SVIX_SUT4
     C                   EVAL      XVIX_SUT5=SVIX_SUT5
     C                   EVAL      XVIX_SUT6=SVIX_SUT6
     C                   EVAL      XVIX_SUT7=SVIX_SUT7
     C                   EVAL      XVIX_SUT8=SVIX_SUT8
     C                   EVAL      XVIX_SUT9=SVIX_SUT9
     C                   EVAL      XVIX_SUT10=SVIX_SUT10
     C                   EVAL      XVIX_SUT11=SVIX_SUT11
     C                   EVAL      XVIX_SUT12=SVIX_SUT12
     C                   EVAL      XVIX_SUT13=SVIX_SUT13
     C                   EVAL      XVIX_SUT14=SVIX_SUT14
     C                   EVAL      XVIX_SUT15=SVIX_SUT15
      * Viser bilde
     C     TAG01         TAG
     C                   EXFMT     SVI033DA
      * andre funksjonstaster
     C     *IN03         CABEQ     *ON           SRB8
     C     *IN12         CABEQ     *ON           SRB9
N01   * F4=Søk
N01  C     WSCLOC        DIV       256           LINNBR
N01  C                   MVR                     POSNBR
N01  C     *IN04         IFEQ      '1'
N01  C     LINNBR        IFGE      6
N01  C     LINNBR        ANDLE     16
N01  C     POSNBR        ANDEQ     2
N01  C                   EXSR      SRC
N01  C                   GOTO      TAG01
N01  C                   ENDIF
N01  C                   ENDIF

     C     SRB8          TAG
     C     SVIX_KEY      CHAIN     SVIX                               90
     C   90              EVAL      SVIX_SYAV=ZVIX_SYAV
     C   90              EVAL      SVIX_SYOP=ZVIX_SYOP
N01  C                   EVAL      SVIX_SUK1=XVIX_SUK1
N01  C                   EVAL      SVIX_SUK6=XVIX_SUK6
N01  C                   EVAL      SVIX_SUK11=XVIX_SUK11
     C                   EVAL      SVIX_SUT1=XVIX_SUT1
     C                   EVAL      SVIX_SUT2=XVIX_SUT2
     C                   EVAL      SVIX_SUT3=XVIX_SUT3
     C                   EVAL      SVIX_SUT4=XVIX_SUT4
     C                   EVAL      SVIX_SUT5=XVIX_SUT5
     C                   EVAL      SVIX_SUT6=XVIX_SUT6
     C                   EVAL      SVIX_SUT7=XVIX_SUT7
     C                   EVAL      SVIX_SUT8=XVIX_SUT8
     C                   EVAL      SVIX_SUT9=XVIX_SUT9
     C                   EVAL      SVIX_SUT10=XVIX_SUT10
     C                   EVAL      SVIX_SUT11=XVIX_SUT11
     C                   EVAL      SVIX_SUT12=XVIX_SUT12
     C                   EVAL      SVIX_SUT13=XVIX_SUT13
     C                   EVAL      SVIX_SUT14=XVIX_SUT14
     C                   EVAL      SVIX_SUT15=XVIX_SUT15
     C  N90              UPDATE    SVIXR
     C   90              WRITE     SVIXR

     C     SRB9          TAG
     C                   ENDSR
N01   *////////////////////////////////////////////////////////////
N01   *  Søk                                                  SRC /
N01   *////////////////////////////////////////////////////////////
N01  C     SRC           BEGSR
N01   * Særskilda upplysningar, kod
N01  C                   CALL      'SVT003R'
N01  C                   PARM      'SAL'         UTYP              3
N01  C                   PARM      'A'           UIE               1
N01  C                   PARM      WDT           UDATO             8
N01  C                   PARM                    UKD              10
N01  C     UKD           IFNE      *BLANKS
N01  C                   SELECT
N01  C     LINNBR        WHENEQ    6
N01  C                   MOVEL     UKD           XVIX_SUK1
N01  C     LINNBR        WHENEQ    11
N01  C                   MOVEL     UKD           XVIX_SUK6
N01  C     LINNBR        WHENEQ    16
N01  C                   MOVEL     UKD           XVIX_SUK11
N01  C                   ENDSL
N01  C                   ENDIF
N01  C                   GOTO      SRC1
N01
N01  C     SRC1          ENDSR
