             PGM
             DCL        VAR(&STRTIME) TYPE(*CHAR) LEN(6)
             DCL        VAR(&QTIME)   TYPE(*CHAR) LEN(6)
             DCL        VAR(&IN51) TYPE(*LGL) LEN(1)
             /*__________________________________________________*/
             /* Denne Jobben kan bli startet *IMMED eller        */
             /* venter til et klokkeslett som finnes i firmans   */
             /* dataarea.                                        */
             /*""""""""""""""""""""""""""""""""""""""""""""""""""*/
             RTVDTAARA  DTAARA(EDIDTA (154 6)) RTNVAR(&STRTIME)
             IF         COND(&STRTIME *EQ *IMMED) THEN(GOTO +
                          CMDLBL(START))

             RTVSYSVAL  SYSVAL(QTIME) RTNVAR(&QTIME)
             IF         COND(&STRTIME *LE &QTIME) THEN(GOTO +
                          CMDLBL(START))

             DLYJOB     RSMTIME(&STRTIME)
             /*___________________________________________________*/
             /* Starte Program for å lage EDIfact filer           */
             /*"""""""""""""""""""""""""""""""""""""""""""""""""""*/
START:       SBMJOB     CMD(CALL PGM(EDI02C)) JOB(CRTMSG) +
                          JOBQ(QTVLIBRJE/QTVJOBQ) PRTDEV(*JOBD) +
                          MSGQ(QTVLIBRJE/QTVSSN)
             /*____________________________*/
             /* Starte Program for SND/RCV */
             /*""""""""""""""""""""""""""""*/
/*NIT RJE */
             CALL       PGM(EDI01R) PARM('E' '1' &IN51)
             IF         COND(&IN51 *EQ '0') THEN(SBMJOB CMD(CALL +
                          PGM(EDI07C1)) JOB(SNDEDI1) +
                          JOBQ(QTVLIBRJE/QTVJOBQ) PRTDEV(*JOBD) +
                          MSGQ(QTVLIBRJE/QTVSSN))

/*IBM LU0 */
             CALL       PGM(EDI01R) PARM('E' '2' &IN51)
             IF         COND(&IN51 *EQ '0') THEN(+
             SBMJOB     CMD(CALL PGM(EDI07C2)) JOB(SNDEDI2) +
                          JOBQ(QTVLIBRJE/QTVJOBQ) PRTDEV(*JOBD) +
                          MSGQ(QTVLIBRJE/QTVSSN))

/*TCP IP*/
             CALL       PGM(EDI01R) PARM('E' '3' &IN51)
             IF         COND(&IN51 *EQ '0') THEN(SBMJOB CMD(CALL +
                          PGM(EDI07C3)) JOB(SNDEDI3) +
                          JOBQ(QTVLIBRJE/QTVJOBQ) PRTDEV(*JOBD) +
                          MSGQ(QTVLIBRJE/QTVSSN))

/*SNADS*/
             CALL       PGM(EDI01R) PARM('E' '4' &IN51)
             IF         COND(&IN51 *EQ '0') THEN(SBMJOB CMD(CALL +
                          PGM(EDI07C4)) JOB(SNDEDI3) +
                          JOBQ(QTVLIBRJE/QTVJOBQ) PRTDEV(*JOBD) +
                          MSGQ(QTVLIBRJE/QTVSSN))

/*NIT LU0*/
             CALL       PGM(EDI01R) PARM('E' '5' &IN51)
             IF         COND(&IN51 *EQ '0') THEN(SBMJOB CMD(CALL +
                          PGM(EDI07C5)) JOB(SNDEDI5) +
                          JOBQ(QTVLIBRJE/QTVJOBQ) PRTDEV(*JOBD) +
                          MSGQ(QTVLIBRJE/QTVSSN))

/*X.400*/
             CALL       PGM(EDI01R) PARM('E' '6' &IN51)
             IF         COND(&IN51 *EQ '0') THEN(SBMJOB CMD(CALL +
                          PGM(EDI07C6)) JOB(SNDEDI5) +
                          JOBQ(QTVLIBRJE/QTVJOBQ) PRTDEV(*JOBD) +
                          MSGQ(QTVLIBRJE/QTVSSN))
             ENDPGM
