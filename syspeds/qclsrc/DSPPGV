/*---------------------------------------------------------------------*/
/* Program: DSPPGV                                                     */
/* Title..: Display Program Variable                                   */
/* From "A Better Debugger," NEWS 3x/400, January 1993                 */
/*                                                                     */
             PGM        PARM(&PGMVAR)
             DCL        VAR(&PGMVAR)   TYPE(*CHAR)  LEN(11)
             DCL        VAR(&MSG)      TYPE(*CHAR)  LEN(80)

             DSPPGMVAR  PGMVAR(&PGMVAR ())
             MONMSG     MSGID(CPF1999) EXEC(DO)  /* Error on command */
                RMVMSG   CLEAR(*ALL)  /* Remove message */
                ?          DSPPGMVAR ??PGMVAR(*N)
                MONMSG     MSGID(CPF0000)
             ENDDO

/* SEND ERROR MESSAGES TO THE CALLING RPG PROGRAM                      */

RCV:           RCVMSG     MSG(&MSG)
               IF         COND(&MSG *NE ' ') THEN(DO)
                 SNDPGMMSG  MSG(&MSG)
                 GOTO RCV
               ENDDO

               RETURN
               ENDPGM
